(function(){'use strict';/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function t(to){return!('ShadyRoot'!==to.__localName)}function o(to){let oo=to.getRootNode();if(t(oo))return oo}function r(to,oo){return Ge.call(to,oo)}function a(to,oo,so){let no=Object.getOwnPropertyDescriptor(oo,to);no&&Object.defineProperty(so,to,no)}function _(to,oo){if(to&&oo){let so=Object.getOwnPropertyNames(oo);for(let ro,no=0;no<so.length&&(ro=so[no]);no++)a(ro,oo,to)}return to||oo}function h(to,...oo){for(let so=0;so<oo.length;so++)_(to,oo[so]);return to}function u(to,oo){for(var so in oo)to[so]=oo[so];return to}function g(to,oo){let so=Object.getPrototypeOf(to);if(!so.hasOwnProperty('__patchProto')){let no=Object.create(so);no.__sourceProto=so,_(no,oo),so.__patchProto=no}to.__proto__=so.__patchProto}function y(to){Xe||(Xe=!0,Be.then(N)),Ve.push(to)}function N(){for(Xe=!1,Qe++;Ve.length;)Ve.shift()();ze&&ze.flush&&ze.flush();const to=Qe>100;if(Ve.length&&!to&&N(),Qe=0,to)throw new Error('Loop detected in ShadyDOM distribution, aborting.')}function b(to){return'&'===to?'&amp;':'<'===to?'&lt;':'>'===to?'&gt;':'"'===to?'&quot;':'\xA0'===to?'&nbsp;':void 0}function v(to){return to.replace(mt,b)}function E(to){return to.replace(ft,b)}function S(to){let oo={};for(let so=0;so<to.length;so++)oo[to[so]]=!0;return oo}function P(to,oo,so){switch(to.nodeType){case Node.ELEMENT_NODE:{let no=to.localName,ro='<'+no,io=to.attributes;for(let lo,ao=0;lo=io[ao];ao++)ro+=' '+lo.name+'="'+v(lo.value)+'"';return ro+='>',bt[no]?ro:ro+C(to,so)+'</'+no+'>'}case Node.TEXT_NODE:{let no=to.data;return oo&&vt[oo.localName]?no:E(no)}case Node.COMMENT_NODE:return'<!--'+to.data+'-->';default:throw window.console.error(to),new Error('not implemented');}}function C(to,oo){'template'===to.localName&&(to=to.content);let so='',no=oo?oo(to):to.childNodes;for(let ao,ro=0,io=no.length;ro<io&&(ao=no[ro]);ro++)so+=P(ao,to,oo);return so}function T(to){return Et.currentNode=to,Et.parentNode()}function D(to){return Et.currentNode=to,Et.firstChild()}function O(to){return Et.currentNode=to,Et.lastChild()}function x(to){let oo=[];Et.currentNode=to;for(let so=Et.firstChild();so;)oo.push(so),so=Et.nextSibling();return oo.item=function(no){return oo[no]},oo}function A(to){return St.currentNode=to,St.firstChild()}function w(to){return St.currentNode=to,St.lastChild()}function L(to){return St.currentNode=to,St.previousSibling()}function k(to){return St.currentNode=to,St.nextSibling()}function W(to){let oo=[];St.currentNode=to;for(let so=St.firstChild();so;)oo.push(so),so=St.nextSibling();return oo}function F(to){return C(to,oo=>x(oo))}function U(to){if(to.nodeType!==Node.ELEMENT_NODE)return to.nodeValue;let oo=document.createTreeWalker(to,NodeFilter.SHOW_TEXT,null,!1),so='',no;for(;no=oo.nextNode();)so+=no.nodeValue;return so}function H(to,oo){return to.__shady&&to.__shady[oo]}function q(to,oo){return H(to,oo)!==void 0}function G(to){return{get(){let oo=H(this,to);return oo===void 0?Pt[to](this):oo},configurable:!0}}function B(to,oo){let so=Array.from(oo.childNodes);for(let no=0;no<so.length;no++)to.appendChild(so[no])}function z(to){for(;to.firstChild;)to.removeChild(to.firstChild)}function V(){if(Tt&&Tt.get)return Tt.get.call(document);return je.hasDescriptors?void 0:document.activeElement}function X(to){let oo=V();if(!oo)return null;let so=!!t(to);if(to!==document){if(!so)return null;if(to.host===oo||!to.host.contains(oo))return null}let no=o(oo);for(;no&&no!==to;)oo=no.host,no=o(oo);return to===document?no?null:oo:no===to?oo:null}function Q(to,oo,so){for(let no in oo){let ro=Object.getOwnPropertyDescriptor(to,no);ro&&ro.configurable||!ro&&so?Object.defineProperty(to,no,oo[no]):so&&console.warn('Could not define',no,'on',to)}}function K(to){Q(to,Dt),Q(to,Ot),Q(to,Rt)}function Y(to,oo,so){if(It(oo),oo.__shady=oo.__shady||{},q(oo,'firstChild')&&(oo.__shady.childNodes=null),to.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let no=to.childNodes;for(let io=0;io<no.length;io++)Z(no[io],oo,so);to.__shady=to.__shady||{};let ro=q(to,'firstChild')?null:void 0;to.__shady.firstChild=to.__shady.lastChild=ro,to.__shady.childNodes=ro}else Z(to,oo,so)}function Z(to,oo,so){xt(to),so=so||null,to.__shady=to.__shady||{},oo.__shady=oo.__shady||{},so&&(so.__shady=so.__shady||{}),to.__shady.previousSibling=so?so.__shady.previousSibling:oo.lastChild;let no=to.__shady.previousSibling;no&&no.__shady&&(no.__shady.nextSibling=to);let ro=to.__shady.nextSibling=so;ro&&ro.__shady&&(ro.__shady.previousSibling=to),to.__shady.parentNode=oo,so?so===oo.__shady.firstChild&&(oo.__shady.firstChild=to):(oo.__shady.lastChild=to,!oo.__shady.firstChild&&(oo.__shady.firstChild=to)),oo.__shady.childNodes=null}function $(to,oo){to.__shady=to.__shady||{},oo.__shady=oo.__shady||{},to===oo.__shady.firstChild&&(oo.__shady.firstChild=to.__shady.nextSibling),to===oo.__shady.lastChild&&(oo.__shady.lastChild=to.__shady.previousSibling);let so=to.__shady.previousSibling,no=to.__shady.nextSibling;so&&(so.__shady=so.__shady||{},so.__shady.nextSibling=no),no&&(no.__shady=no.__shady||{},no.__shady.previousSibling=so),to.__shady.parentNode=to.__shady.previousSibling=to.__shady.nextSibling=void 0,q(oo,'childNodes')&&(oo.__shady.childNodes=null)}function ee(to,oo,so){let no=o(to),ro;no&&(oo.__noInsertionPoint&&!no._changePending&&(no._skipUpdateInsertionPoints=!0),ro=ie(oo,to,no),ro&&(no._skipUpdateInsertionPoints=!1)),q(to,'firstChild')&&Y(oo,to,so);let io=de(oo,to,no,ro)||to.shadyRoot;return io}function te(to){let so,oo=q(to,'parentNode')&&H(to,'parentNode'),no=o(to);if(oo||no){so=ue(to),oo&&$(to,oo);let ro=no&&le(no,to),io=oo&&no&&oo.localName===no.getInsertionPointTag();(ro||io)&&(no._skipUpdateInsertionPoints=!1,ce(no))}return he(to),so}function oe(to,oo,so){let no=to.__shady&&to.__shady.observer;no&&(oo&&no.addedNodes.push(oo),so&&no.removedNodes.push(so),no.schedule())}function se(to,oo){return oo?(oe(oo,null,to),te(to)):void he(to)}function ne(to){return!(to.__ownerShadyRoot===void 0)}function re(to){if(to&&to.nodeType){let oo=to.__ownerShadyRoot;if(void 0===oo){if(t(to))oo=to;else{let so=to.parentNode;oo=so?re(so):to}document.documentElement.contains(to)&&(to.__ownerShadyRoot=oo)}return oo}}function de(to,oo,so,no){let ro=so&&so.getInsertionPointTag()||'',io=to.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!to.__noInsertionPoint&&ro&&to.querySelector(ro),ao=io&&io.parentNode.nodeType!==Node.DOCUMENT_FRAGMENT_NODE,lo=io||to.localName===ro;(lo||oo.localName===ro||no)&&so&&ce(so);let _o=ae(oo);return _o&&ce(oo.shadyRoot),_o||lo&&!ao}function ie(to,oo,so){let no,ro=so.getInsertionPointTag();if(to.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!to.__noInsertionPoint){let io=to.querySelectorAll(ro);for(let lo,_o,ho,ao=0;ao<io.length&&(lo=io[ao]);ao++)_o=lo.parentNode,_o===to&&(_o=oo),ho=ie(lo,_o,so),no=no||ho}else to.localName===ro&&(At(oo),At(to),no=!0);return no}function ae(to){return to&&to.shadyRoot&&to.shadyRoot.hasInsertionPoint()}function le(to,oo){let so,no=to._insertionPoints;for(let io,ro=0;ro<no.length;ro++)if(io=no[ro],_e(oo,io)){let ao=io.assignedNodes({flatten:!0});for(let lo=0;lo<ao.length;lo++){so=!0;let _o=ao[lo],ho=T(_o);ho&&nt.call(ho,_o)}}return so}function _e(to,oo){for(;oo;){if(oo==to)return!0;oo=oo.parentNode}}function he(to){if(ne(to)){let oo=to.childNodes;for(let ro,so=0,no=oo.length;so<no&&(ro=oo[so]);so++)he(ro)}to.__ownerShadyRoot=void 0}function pe(to){let oo=to.assignedNodes({flatten:!0}),so=re(to);for(let io,no=0,ro=oo.length;no<ro&&(io=oo[no]);no++)if(so.isFinalDestination(to,io))return io}function ue(to){let oo=to.parentNode;if(ae(oo))return ce(oo.shadyRoot),!0}function ce(to){to._changePending=!0,to.update()}function ge(to,oo){if('slot'===oo)ue(to);else if('slot'===to.localName&&'name'===oo){let so=o(to);so&&so.update()}}function ye(to,oo,so){let no=[];return Ne(to.childNodes,oo,so,no),no}function Ne(to,oo,so,no){for(let ao,ro=0,io=to.length;ro<io&&(ao=to[ro]);ro++)if(ao.nodeType===Node.ELEMENT_NODE&&me(ao,oo,so,no))return!0}function me(to,oo,so,no){let ro=oo(to);return ro&&no.push(to),so&&so(ro)?ro:void Ne(to.childNodes,oo,so,no)}function fe(to){var oo=to.getRootNode();t(oo)&&oo.render()}function be(to,oo,so){window.ShadyCSS&&'class'===oo&&to.ownerDocument===document?window.ShadyCSS.setElementClass(to,so):(dt.call(to,oo,so),ge(to,oo))}function ve(to,oo){at.call(to,oo),ge(to,oo)}function Ee(to,oo,so){if(so){let no=H(so,'parentNode');if(void 0!==no&&no!==to)throw Error('The ref_node to be inserted before is not a child of this node')}if(oo.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){let no=H(oo,'parentNode');se(oo,no)}if(!ee(to,oo,so)){if(so){let ro=o(so);ro&&(so=so.localName===ro.getInsertionPointTag()?pe(so):so)}let no=t(to)?to.host:to;so?ot.call(no,oo,so):et.call(no,oo)}return oe(to,oo),oo}function Se(to,oo){if(oo.parentNode!==to)throw Error('The node to be removed is not a child of this node: '+oo);if(!te(oo)){let so=t(to)?to.host:to,no=T(oo);so===no&&nt.call(so,oo)}return oe(to,null,oo),oo}function Pe(to,oo){if('template'==to.localName)return _t.call(to,oo);let so=_t.call(to,!1);if(oo){let no=to.childNodes;for(let io,ro=0;ro<no.length;ro++)io=no[ro].cloneNode(!0),so.appendChild(io)}return so}function Ce(to,oo,so){if(so||(so=pt),to.ownerDocument!==document)return so.call(document,to,oo);let no=so.call(document,to,!1);if(oo){let ro=to.childNodes;for(let ao,io=0;io<ro.length;io++)ao=Ce(ro[io],!0,so),no.appendChild(ao)}return no}function Te(to,oo){let so=[],no=to,ro=to===window?window:to.getRootNode();for(;no;)so.push(no),no=no.assignedSlot?no.assignedSlot:no.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&no.host&&(oo||no!==ro)?no.host:no.parentNode;return so[so.length-1]===document&&so.push(window),so}function De(to,oo){if(!t)return to;let so=Te(to,!0),no=oo;for(let io,ao,lo,_o,ro=0;ro<no.length;ro++)if(io=no[ro],lo=io===window?window:io.getRootNode(),lo!=ao&&(_o=so.indexOf(lo),ao=lo),!t(lo)||-1<_o)return io}function Oe(to){let oo=function(so,no){let ro=new to(so,no);return ro.__composed=no&&!!no.composed,ro};return u(oo,to),oo.prototype=to.prototype,oo}function Me(to,oo,so){let no=oo.__handlers&&oo.__handlers[to.type]&&oo.__handlers[to.type][so];if(no)for(let io,ro=0;io=no[ro];ro++)if(io.call(oo,to),to.__immediatePropagationStopped)return}function Re(to){let oo=to.composedPath(),so;Object.defineProperty(to,'currentTarget',{get:function(){return so},configurable:!0});for(let ro=oo.length-1;0<=ro;ro--)if(so=oo[ro],Me(to,so,'capture'),to.__propagationStopped)return;Object.defineProperty(to,'eventPhase',{value:Event.AT_TARGET});let no;for(let ro=0;ro<oo.length;ro++)if(so=oo[ro],(0===ro||so.shadowRoot&&so.shadowRoot===no)&&(Me(to,so,'bubble'),so!==window&&(no=so.getRootNode()),to.__propagationStopped))return}function Ae(){for(let to in kt)window.addEventListener(to,function(oo){oo.__target||(oo.__target=oo.target,oo.__relatedTarget=oo.relatedTarget,g(oo,Lt),Re(oo),oo.stopImmediatePropagation())},!0)}function Le(to,oo,so){return{index:to,removed:oo,addedCount:so}}function ke(to,oo){if(!to)throw'Must provide a host.';if(!oo)throw'Not enough arguments.';let so=document.createDocumentFragment();return so.__proto__=Qt,so._init(to),so}function We(to){return fe(to),H(to,'assignedSlot')||null}function Fe(to,oo){let so=Object.getOwnPropertyNames(oo);for(let no=0;no<so.length;no++){let ro=so[no],io=Object.getOwnPropertyDescriptor(oo,ro);io.value?to[ro]=io.value:Object.defineProperty(to,ro,io)}}let je=window.ShadyDOM||{};je.hasNativeShadowDOM=!!(Element.prototype.attachShadow&&Node.prototype.getRootNode);let He=Object.getOwnPropertyDescriptor(Node.prototype,'firstChild');je.hasDescriptors=!!(He&&He.configurable&&He.get),je.inUse=je.force||!je.hasNativeShadowDOM;let qe=Element.prototype,Ge=qe.matches||qe.matchesSelector||qe.mozMatchesSelector||qe.msMatchesSelector||qe.oMatchesSelector||qe.webkitMatchesSelector,Be;if(window.Promise)Be=Promise.resolve();else{let to=document.createTextNode(''),oo=0;Be={then(so){let no=new MutationObserver(function(){no.disconnect(),so()});no.observe(to,{characterData:!0}),to.textContent=oo++}}}let ze=window.customElements,Ve=[],Xe,Qe=0;N.list=Ve;class Je{constructor(){this._scheduled=!1,this.addedNodes=[],this.removedNodes=[],this.callbacks=new Set}schedule(){this._scheduled||(this._scheduled=!0,Be.then(()=>{this.flush()}))}flush(){if(this._scheduled){this._scheduled=!1;let to=this.takeRecords();to.length&&this.callbacks.forEach(function(oo){oo(to)})}}takeRecords(){if(this.addedNodes.length||this.removedNodes.length){let to=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],to}return[]}}let $e=Element.prototype.appendChild,et=$e,tt=Element.prototype.insertBefore,ot=tt,st=Element.prototype.removeChild,nt=st,rt=Element.prototype.setAttribute,dt=rt,it=Element.prototype.removeAttribute,at=it,lt=Element.prototype.cloneNode,_t=lt,ht=Document.prototype.importNode,pt=ht,ut=Element.prototype.addEventListener,ct=ut,gt=Element.prototype.removeEventListener,yt=gt;var Nt=Object.freeze({appendChild:et,insertBefore:ot,removeChild:nt,setAttribute:dt,removeAttribute:at,cloneNode:_t,importNode:pt,addEventListener:ct,removeEventListener:yt});let mt=/[&\u00A0"]/g,ft=/[&\u00A0<>]/g,bt=S(['area','base','br','col','command','embed','hr','img','input','keygen','link','meta','param','source','track','wbr']),vt=S(['style','script','xmp','iframe','noembed','noframes','plaintext','noscript']),Et=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),St=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1);var Pt=Object.freeze({parentNode:T,firstChild:D,lastChild:O,previousSibling:function(to){return Et.currentNode=to,Et.previousSibling()},nextSibling:function(to){return Et.currentNode=to,Et.nextSibling()},childNodes:x,parentElement:function(to){return St.currentNode=to,St.parentNode()},firstElementChild:A,lastElementChild:w,previousElementSibling:L,nextElementSibling:k,children:W,innerHTML:F,textContent:U});let Ct=new DOMParser,Tt=Object.getOwnPropertyDescriptor(Document.prototype,'activeElement'),Dt={parentElement:G('parentElement'),parentNode:G('parentNode'),nextSibling:G('nextSibling'),previousSibling:G('previousSibling'),className:{get(){return this.getAttribute('class')},set(to){this.setAttribute('class',to)},configurable:!0},nextElementSibling:{get(){if(q(this,'nextSibling')){let to=this.nextSibling;for(;to&&to.nodeType!==Node.ELEMENT_NODE;)to=to.nextSibling;return to}return k(this)},configurable:!0},previousElementSibling:{get(){if(q(this,'previousSibling')){let to=this.previousSibling;for(;to&&to.nodeType!==Node.ELEMENT_NODE;)to=to.previousSibling;return to}return L(this)},configurable:!0}},Ot={childNodes:{get(){if(q(this,'firstChild')){if(!this.__shady.childNodes){this.__shady.childNodes=[];for(let to=this.firstChild;to;to=to.nextSibling)this.__shady.childNodes.push(to)}return this.__shady.childNodes}return x(this)},configurable:!0},firstChild:G('firstChild'),lastChild:G('lastChild'),textContent:{get(){if(q(this,'firstChild')){let to=[];for(let no,oo=0,so=this.childNodes;no=so[oo];oo++)no.nodeType!==Node.COMMENT_NODE&&to.push(no.textContent);return to.join('')}return U(this)},set(to){this.nodeType===Node.ELEMENT_NODE?(z(this),to&&this.appendChild(document.createTextNode(to))):this.nodeValue=to},configurable:!0},firstElementChild:{get(){if(q(this,'firstChild')){let to=this.firstChild;for(;to&&to.nodeType!==Node.ELEMENT_NODE;)to=to.nextSibling;return to}return A(this)},configurable:!0},lastElementChild:{get(){if(q(this,'lastChild')){let to=this.lastChild;for(;to&&to.nodeType!==Node.ELEMENT_NODE;)to=to.previousSibling;return to}return w(this)},configurable:!0},children:{get(){return q(this,'firstChild')?Array.prototype.filter.call(this.childNodes,function(to){return to.nodeType===Node.ELEMENT_NODE}):W(this)},configurable:!0},innerHTML:{get(){let to='template'===this.localName?this.content:this;return q(this,'firstChild')?C(to):F(to)},set(to){let oo='template'===this.localName?this.content:this;z(oo);let so=Ct.parseFromString(to,'text/html');so.head&&B(oo,so.head),so.body&&B(oo,so.body)},configurable:!0}},Mt={shadowRoot:{get(){return this.shadyRoot},set(to){this.shadyRoot=to},configurable:!0}},Rt={activeElement:{get(){return X(this)},set(){},configurable:!0}},xt=je.hasDescriptors?function(){}:function(to){to.__shady&&to.__shady.__outsideAccessors||(to.__shady=to.__shady||{},to.__shady.__outsideAccessors=!0,Q(to,Dt,!0))},It=je.hasDescriptors?function(){}:function(to){to.__shady&&to.__shady.__insideAccessors||(to.__shady=to.__shady||{},to.__shady.__insideAccessors=!0,Q(to,Ot,!0),Q(to,Mt,!0))},At=function(to){if(!q(to,'firstChild')){to.__shady=to.__shady||{},to.__shady.firstChild=D(to),to.__shady.lastChild=O(to),It(to);let oo=to.__shady.childNodes=x(to);for(let no,so=0;so<oo.length&&(no=oo[so]);so++)no.__shady=no.__shady||{},no.__shady.parentNode=to,no.__shady.nextSibling=oo[so+1]||null,no.__shady.previousSibling=oo[so-1]||null,xt(no)}},wt={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},Lt={get composed(){return this.isTrusted&&void 0===this.__composed&&(this.__composed=wt[this.type]),this.__composed||!1},composedPath(){return this.__composedPath||(this.__composedPath=Te(this.__target,this.composed)),this.__composedPath},get target(){return De(this.currentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=Te(this.__relatedTarget,!0)),De(this.currentTarget,this.__relatedTargetComposedPath)):null},stopPropagation(){Event.prototype.stopPropagation.call(this),this.__propagationStopped=!0},stopImmediatePropagation(){Event.prototype.stopImmediatePropagation.call(this),this.__immediatePropagationStopped=!0,this.__propagationStopped=!0}},kt={focus:!0,blur:!0},Wt=Oe(window.Event),Ft=Oe(window.CustomEvent),Ut=Oe(window.MouseEvent);const jt=0,Ht=1,qt=2,Gt=3;let Bt={calcEditDistances(to,oo,so,no,ro,io){let ao=io-ro+1,lo=so-oo+1,_o=Array(ao);for(let ho=0;ho<ao;ho++)_o[ho]=Array(lo),_o[ho][0]=ho;for(let ho=0;ho<lo;ho++)_o[0][ho]=ho;for(let ho=1;ho<ao;ho++)for(let po=1;po<lo;po++)if(this.equals(to[oo+po-1],no[ro+ho-1]))_o[ho][po]=_o[ho-1][po-1];else{let uo=_o[ho-1][po]+1,co=_o[ho][po-1]+1;_o[ho][po]=uo<co?uo:co}return _o},spliceOperationsFromEditDistances(to){let oo=to.length-1,so=to[0].length-1,no=to[oo][so],ro=[];for(;0<oo||0<so;){if(0==oo){ro.push(qt),so--;continue}if(0==so){ro.push(Gt),oo--;continue}let _o,io=to[oo-1][so-1],ao=to[oo-1][so],lo=to[oo][so-1];_o=ao<lo?ao<io?ao:io:lo<io?lo:io,_o==io?(io==no?ro.push(jt):(ro.push(Ht),no=io),oo--,so--):_o==ao?(ro.push(Gt),oo--,no=ao):(ro.push(qt),so--,no=lo)}return ro.reverse(),ro},calcSplices(to,oo,so,no,ro,io){let _o,ao=0,lo=0,ho=Math.min(so-oo,io-ro);if(0==oo&&0==ro&&(ao=this.sharedPrefix(to,no,ho)),so==to.length&&io==no.length&&(lo=this.sharedSuffix(to,no,ho-ao)),oo+=ao,ro+=ao,so-=lo,io-=lo,0==so-oo&&0==io-ro)return[];if(oo==so){for(_o=Le(oo,[],0);ro<io;)_o.removed.push(no[ro++]);return[_o]}if(ro==io)return[Le(oo,[],so-oo)];let po=this.spliceOperationsFromEditDistances(this.calcEditDistances(to,oo,so,no,ro,io));_o=void 0;let uo=[],co=oo,go=ro;for(let yo=0;yo<po.length;yo++)switch(po[yo]){case jt:_o&&(uo.push(_o),_o=void 0),co++,go++;break;case Ht:_o||(_o=Le(co,[],0)),_o.addedCount++,co++,_o.removed.push(no[go]),go++;break;case qt:_o||(_o=Le(co,[],0)),_o.addedCount++,co++;break;case Gt:_o||(_o=Le(co,[],0)),_o.removed.push(no[go]),go++;}return _o&&uo.push(_o),uo},sharedPrefix(to,oo,so){for(let no=0;no<so;no++)if(!this.equals(to[no],oo[no]))return no;return so},sharedSuffix(to,oo,so){let no=to.length,ro=oo.length,io=0;for(;io<so&&this.equals(to[--no],oo[--ro]);)io++;return io},calculateSplices(to,oo){return this.calcSplices(to,0,to.length,oo,0,oo.length)},equals(to,oo){return to===oo}},zt=(to,oo)=>Bt.calculateSplices(to,oo),Vt='function'==typeof Event?Event:function(to,oo){oo=oo||{};var so=document.createEvent('Event');return so.initEvent(to,!!oo.bubbles,!!oo.cancelable),so};var Xt=class{constructor(to){this.root=to,this.insertionPointTag='slot'}getInsertionPoints(){return this.root.querySelectorAll(this.insertionPointTag)}hasInsertionPoint(){return!!(this.root._insertionPoints&&this.root._insertionPoints.length)}isInsertionPoint(to){return to.localName&&to.localName==this.insertionPointTag}distribute(){return this.hasInsertionPoint()?this.distributePool(this.root,this.collectPool()):[]}collectPool(){let to=this.root.host,oo=[],so=0;for(let no=to.firstChild;no;no=no.nextSibling)oo[so++]=no;return oo}distributePool(to,oo){let so=[],no=this.root._insertionPoints;for(let ao,ro=0,io=no.length;ro<io&&(ao=no[ro]);ro++){this.distributeInsertionPoint(ao,oo);let lo=ao.parentNode;lo&&lo.shadyRoot&&this.hasInsertionPoint(lo.shadyRoot)&&so.push(lo.shadyRoot)}for(let io,ro=0;ro<oo.length;ro++)if(io=oo[ro],io){io.__shady=io.__shady||{},io.__shady.assignedSlot=void 0;let ao=T(io);ao&&nt.call(ao,io)}return so}distributeInsertionPoint(to,oo){let so=to.__shady.assignedNodes;so&&this.clearAssignedSlots(to,!0),to.__shady.assignedNodes=[];let no=!1,ro=!1;for(let lo,io=0,ao=oo.length;io<ao;io++)(lo=oo[io],!!lo)&&this.matchesInsertionPoint(lo,to)&&(lo.__shady._prevAssignedSlot!=to&&(no=!0),this.distributeNodeInto(lo,to),oo[io]=void 0,ro=!0);if(!ro){let io=to.childNodes;for(let lo,ao=0;ao<io.length;ao++)lo=io[ao],lo.__shady._prevAssignedSlot!=to&&(no=!0),this.distributeNodeInto(lo,to)}if(so){for(let io=0;io<so.length;io++)so[io].__shady._prevAssignedSlot=null;to.__shady.assignedNodes.length<so.length&&(no=!0)}this.setDistributedNodesOnInsertionPoint(to),no&&this._fireSlotChange(to)}clearAssignedSlots(to,oo){let so=to.__shady.assignedNodes;if(so)for(let ro,no=0;no<so.length;no++)ro=so[no],oo&&(ro.__shady._prevAssignedSlot=ro.__shady.assignedSlot),ro.__shady.assignedSlot===to&&(ro.__shady.assignedSlot=null)}matchesInsertionPoint(to,oo){let so=oo.getAttribute('name');so=so?so.trim():'';let no=to.getAttribute&&to.getAttribute('slot');return no=no?no.trim():'',no==so}distributeNodeInto(to,oo){oo.__shady.assignedNodes.push(to),to.__shady.assignedSlot=oo}setDistributedNodesOnInsertionPoint(to){let oo=to.__shady.assignedNodes;to.__shady.distributedNodes=[];for(let no,so=0;so<oo.length&&(no=oo[so]);so++)if(this.isInsertionPoint(no)){let ro=no.__shady.distributedNodes;if(ro)for(let io=0;io<ro.length;io++)to.__shady.distributedNodes.push(ro[io])}else to.__shady.distributedNodes.push(oo[so])}_fireSlotChange(to){to.dispatchEvent(new Vt('slotchange')),to.__shady.assignedSlot&&this._fireSlotChange(to.__shady.assignedSlot)}isFinalDestination(to){return!to.__shady.assignedSlot}};let Qt=Object.create(DocumentFragment.prototype);h(Qt,{_init(to){this.__localName='ShadyRoot',At(to),At(this),to.shadowRoot=this,this.host=to,this._renderPending=!1,this._hasRendered=!1,this._changePending=!1,this._distributor=new Xt(this),this.update()},update(){this._renderPending||(this._renderPending=!0,y(()=>this.render()))},_getRenderRoot(){let to=this,oo=this;for(;oo;)oo._renderPending&&(to=oo),oo=oo._rendererForHost();return to},_rendererForHost(){let to=this.host.getRootNode();if(t(to)){let oo=this.host.childNodes;for(let no,so=0;so<oo.length;so++)if(no=oo[so],this._distributor.isInsertionPoint(no))return to}},render(){this._renderPending&&this._getRenderRoot()._render()},_render(){this._renderPending=!1,this._changePending=!1,this._skipUpdateInsertionPoints?!this._hasRendered&&(this._insertionPoints=[]):this.updateInsertionPoints(),this._skipUpdateInsertionPoints=!1,this.distribute(),this.compose(),this._hasRendered=!0},forceRender(){this._renderPending=!0,this.render()},distribute(){let to=this._distributor.distribute();for(let oo=0;oo<to.length;oo++)to[oo]._render()},updateInsertionPoints(){let to=this.__insertionPoints;if(to)for(let so,oo=0;oo<to.length;oo++)so=to[oo],so.getRootNode()!==this&&this._distributor.clearAssignedSlots(so);to=this._insertionPoints=this._distributor.getInsertionPoints();for(let so,oo=0;oo<to.length;oo++)so=to[oo],so.__shady=so.__shady||{},At(so),At(so.parentNode)},get _insertionPoints(){return this.__insertionPoints||this.updateInsertionPoints(),this.__insertionPoints||(this.__insertionPoints=[])},set _insertionPoints(to){this.__insertionPoints=to},hasInsertionPoint(){return this._distributor.hasInsertionPoint()},compose(){this._composeTree()},_composeTree(){this._updateChildNodes(this.host,this._composeNode(this.host));let to=this._insertionPoints||[];for(let no,ro,oo=0,so=to.length;oo<so&&(no=to[oo]);oo++)ro=no.parentNode,ro!==this.host&&ro!==this&&this._updateChildNodes(ro,this._composeNode(ro))},_composeNode(to){let oo=[],so=(to.shadyRoot||to).childNodes;for(let ro,no=0;no<so.length;no++)if(ro=so[no],this._distributor.isInsertionPoint(ro)){let io=ro.__shady.distributedNodes||(ro.__shady.distributedNodes=[]);for(let lo,ao=0;ao<io.length;ao++)lo=io[ao],this.isFinalDestination(ro,lo)&&oo.push(lo)}else oo.push(ro);return oo},isFinalDestination(to,oo){return this._distributor.isFinalDestination(to,oo)},_updateChildNodes(to,oo){let so=x(to),no=zt(oo,so);for(let ao,ro=0,io=0;ro<no.length&&(ao=no[ro]);ro++){for(let _o,lo=0;lo<ao.removed.length&&(_o=ao.removed[lo]);lo++)T(_o)===to&&nt.call(to,_o),so.splice(ao.index+io,1);io-=ao.addedCount}for(let io,ao,ro=0;ro<no.length&&(io=no[ro]);ro++){ao=so[io.index];for(let _o,lo=io.index;lo<io.index+io.addedCount;lo++)_o=oo[lo],ot.call(to,_o,ao),so.splice(lo,0,_o)}},getInsertionPointTag(){return this._distributor.insertionPointTag}}),function(to){Q(to,Ot,!0),Q(to,Rt,!0)}(Qt);let Kt={addEventListener:function(to,oo,so){if(oo){let no,ro,io;if('object'==typeof so?(no=!!so.capture,ro=!!so.once,io=!!so.passive):(no=!!so,ro=!1,io=!1),oo.__eventWrappers){for(let lo=0;lo<oo.__eventWrappers.length;lo++)if(oo.__eventWrappers[lo].node===this&&oo.__eventWrappers[lo].type===to&&oo.__eventWrappers[lo].capture===no&&oo.__eventWrappers[lo].once===ro&&oo.__eventWrappers[lo].passive===io)return;}else oo.__eventWrappers=[];const ao=function(lo){if(ro&&this.removeEventListener(to,oo,so),lo.__target||(lo.__target=lo.target,lo.__relatedTarget=lo.relatedTarget,g(lo,Lt)),lo.composed||-1<lo.composedPath().indexOf(this))return lo.eventPhase===Event.BUBBLING_PHASE&&lo.target===lo.relatedTarget?void lo.stopImmediatePropagation():oo(lo)};oo.__eventWrappers.push({node:this,type:to,capture:no,once:ro,passive:io,wrapperFn:ao}),kt[to]?(this.__handlers=this.__handlers||{},this.__handlers[to]=this.__handlers[to]||{capture:[],bubble:[]},this.__handlers[to][no?'capture':'bubble'].push(ao)):ct.call(this,to,ao,so)}},removeEventListener:function(to,oo,so){if(oo){let no,ro,io;'object'==typeof so?(no=!!so.capture,ro=!!so.once,io=!!so.passive):(no=!!so,ro=!1,io=!1);let ao;if(oo.__eventWrappers)for(let lo=0;lo<oo.__eventWrappers.length;lo++)if(oo.__eventWrappers[lo].node===this&&oo.__eventWrappers[lo].type===to&&oo.__eventWrappers[lo].capture===no&&oo.__eventWrappers[lo].once===ro&&oo.__eventWrappers[lo].passive===io){ao=oo.__eventWrappers.splice(lo,1)[0].wrapperFn,oo.__eventWrappers.length||(oo.__eventWrappers=void 0);break}if(yt.call(this,to,ao||oo,so),ao&&kt[to]&&this.__handlers&&this.__handlers[to]){const lo=this.__handlers[to][no?'capture':'bubble'],_o=lo.indexOf(ao);-1<_o&&lo.splice(_o,1)}}},appendChild(to){return Ee(this,to)},insertBefore(to,oo){return Ee(this,to,oo)},removeChild(to){return Se(this,to)},replaceChild(to,oo){return this.insertBefore(to,oo),this.removeChild(oo),to},cloneNode(to){return Pe(this,to)},getRootNode(to){return re(this,to)},get isConnected(){return document.documentElement.contains(this)}},Jt={get assignedSlot(){return We(this)}},Yt={querySelector(to){let oo=ye(this,function(so){return r(so,to)},function(so){return!!so})[0];return oo||null},querySelectorAll(to){return ye(this,function(oo){return r(oo,to)})}},Zt={assignedNodes(to){if('slot'===this.localName)return fe(this),this.__shady?(to&&to.flatten?this.__shady.distributedNodes:this.__shady.assignedNodes)||[]:[]}},$t=h({setAttribute(to,oo){be(this,to,oo)},removeAttribute(to){ve(this,to)},attachShadow(to){return ke(this,to)},get slot(){return this.getAttribute('slot')},set slot(to){this.setAttribute('slot',to)},get assignedSlot(){return We(this)}},Yt,Zt);Object.defineProperties($t,Mt);let eo=h({},Yt);Object.defineProperties(eo,{_activeElement:Rt.activeElement}),je.inUse&&(window.ShadyDOM={inUse:je.inUse,patch:function(to){return to},isShadyRoot:t,enqueue:y,flush:N,settings:je,filterMutations:function(to,oo){const so=oo.getRootNode();return to.map(function(no){const ro=so===no.target.getRootNode();if(ro&&no.addedNodes){let io=Array.from(no.addedNodes).filter(function(ao){return so===ao.getRootNode()});if(io.length)return no=Object.create(no),Object.defineProperty(no,'addedNodes',{value:io,configurable:!0}),no}else if(ro)return no}).filter(function(no){return no})},observeChildren:function(to,oo){to.__shady=to.__shady||{},to.__shady.observer||(to.__shady.observer=new Je),to.__shady.observer.callbacks.add(oo);let so=to.__shady.observer;return{_callback:oo,_observer:so,_node:to,takeRecords(){return so.takeRecords()}}},unobserveChildren:function(to){let oo=to&&to._observer;oo&&(oo.callbacks.delete(to._callback),!oo.callbacks.size&&(to._node.__shady.observer=null))},nativeMethods:Nt,nativeTree:Pt},function(){window.Event=Wt,window.CustomEvent=Ft,window.MouseEvent=Ut,Ae()}(),function(){Fe(window.Node.prototype,Kt),Fe(window.Text.prototype,Jt),Fe(window.DocumentFragment.prototype,Yt),Fe(window.Element.prototype,$t),Fe(window.Document.prototype,eo);let to=document.importNode;if(document.importNode=function(oo,so){return Ce(oo,so,to)},window.HTMLSlotElement&&Fe(window.HTMLSlotElement.prototype,Zt),je.hasDescriptors){K(window.Node.prototype),K(window.Text.prototype),K(window.DocumentFragment.prototype),K(window.Element.prototype);let oo=window.customElements&&customElements.nativeHTMLElement||HTMLElement;K(oo.prototype),K(window.Document.prototype),window.HTMLSlotElement&&K(window.HTMLSlotElement.prototype)}}())})();
//# sourceMappingURL=shadydom.min.js.map
