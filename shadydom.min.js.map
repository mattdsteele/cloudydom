{"version":3,"sources":["env.js"],"names":["isShadyRoot","obj","__localName","ownerShadyRootForNode","node","root","getRootNode","matchesSelector","element","selector","matches","call","copyOwnProperty","name","source","target","pd","Object","getOwnPropertyDescriptor","defineProperty","extend","n$","getOwnPropertyNames","n","i","length","extendAll","sources","mixin","patchPrototype","proto","getPrototypeOf","hasOwnProperty","patchProto","create","__sourceProto","__patchProto","__proto__","enqueue","callback","scheduled","promish","then","flush","flushList","push","flushCount","shift","customElements$1","isFlushedMaxed","Error","escapeReplace","c","escapeAttr","s","replace","escapeAttrRegExp","escapeData","escapeDataRegExp","makeSet","arr","set","getOuterHTML","parentNode","composed","nodeType","Node","ELEMENT_NODE","tagName","localName","attrs","attributes","attr","value","voidElements","getInnerHTML","TEXT_NODE","data","plaintextParents","COMMENT_NODE","window","console","error","content","c$","childNodes","child","l","nodeWalker","currentNode","firstChild","lastChild","nodes","nextSibling","item","index","firstElementChild","elementWalker","lastElementChild","previousElementSibling","previousSibling","nextElementSibling","children","innerHTML","textContent","nodeValue","textWalker","document","createTreeWalker","NodeFilter","SHOW_TEXT","nextNode","getProperty","prop","__shady","hasProperty","generateSimpleDescriptor","get","nativeTree","configurable","insertDOMFrom","from","Array","appendChild","clearNode","removeChild","getDocumentActiveElement","nativeActiveElementDescriptor","settings","hasDescriptors","activeElement","activeElementForNode","active","isShadyRoot$$1","host","contains","activeRoot","patchAccessorGroup","descriptors","force","p","objDesc","warn","patchAccessors","OutsideAccessors","InsideAccessors","ActiveElementAccessor","recordInsertBefore","container","ref_node","patchInsideElementAccessors","DOCUMENT_FRAGMENT_NODE","linkNode","resetTo","patchOutsideElementAccessors","ps","ns","recordRemoveChild","addNode","ownerRoot","ipAdded","__noInsertionPoint","_changePending","_skipUpdateInsertionPoints","_maybeAddInsertionPoint","handled","_maybeDistribute","shadyRoot","removeNode","distributed","logicalParent","maybeDistributeParent","removedDistributed","_removeDistributedChildren","addedInsertionPoint","getInsertionPointTag","updateRootViaContentChange","_removeOwnerShadyRoot","_scheduleObserver","addedNode","removedNode","observer","addedNodes","removedNodes","schedule","removeNodeFromParent","parent","_hasCachedOwnerRoot","__ownerShadyRoot","documentElement","insertionPointTag","fragContent","querySelector","wrappedContent","hasContent","needsDist","_nodeNeedsDistribution","added","querySelectorAll","np","na","recordChildNodes","hasInsertionPoint","hostNeedsDist","ip$","_insertionPoints","insertionPoint","_contains","dc$","assignedNodes","flatten","j","firstComposedNode","isFinalDestination","update","distributeAttributeChange","query","matcher","halter","list","_queryElements","elements","_queryElement","result","renderRootNode","render","setAttribute$1","ShadyCSS","ownerDocument","setElementClass","setAttribute","removeAttribute$1","removeAttribute","insertBefore$1","insertBefore","removeChild$1","nativeParent","cloneNode$1","deep","cloneNode","nc","importNode$1","nativeImportNode","importNode","pathComposer","startNode","composedPath","current","startRoot","assignedSlot","retarget","refNode","path","refNodePath","p$","ancestor","lastRoot","rootIdx","indexOf","mixinComposedFlag","Base","klazz","type","options","event","__composed","prototype","fireHandlers","phase","hs","__handlers","fn","__immediatePropagationStopped","retargetNonBubblingEvent","e","__propagationStopped","Event","AT_TARGET","lastFiredRoot","shadowRoot","activateFocusEventOverrides","ev","nonBubblingEventsToRetarget","addEventListener","__target","__relatedTarget","relatedTarget","eventMixin","stopImmediatePropagation","newSplice","removed","addedCount","attachShadow","createDocumentFragment","ShadyRootPrototype","_init","getAssignedSlot","patchBuiltin","d","ShadyDOM","hasNativeShadowDOM","Element","desc","inUse","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","Promise","resolve","twiddle","createTextNode","cb","MutationObserver","disconnect","observe","characterData","customElements","AsyncObserver","constructor","_scheduled","callbacks","Set","mutations","takeRecords","forEach","nativeAppendChild","nativeInsertBefore","nativeRemoveChild","nativeSetAttribute","nativeRemoveAttribute","nativeCloneNode","Document","nativeAddEventListener","nativeRemoveEventListener","removeEventListener","nativeMethods","freeze","SHOW_ALL","SHOW_ELEMENT","parentElement","domParser","DOMParser","className","getAttribute","tc","cn","join","text","filter","doc","parseFromString","head","body","ShadowRootAccessor","__outsideAccessors","__insideAccessors","alwaysComposed","blur","focus","focusin","focusout","click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel","beforeinput","input","keydown","keyup","compositionstart","compositionupdate","compositionend","touchstart","touchend","touchmove","touchcancel","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","dragstart","drag","dragenter","dragleave","dragover","drop","dragend","DOMActivate","DOMFocusIn","DOMFocusOut","keypress","isTrusted","__composedPath","currentTarget","__relatedTargetComposedPath","stopPropagation","PatchedEvent","PatchedCustomEvent","CustomEvent","PatchedMouseEvent","MouseEvent","EDIT_LEAVE","EDIT_UPDATE","EDIT_ADD","EDIT_DELETE","ArraySplice","calcEditDistances","currentStart","currentEnd","old","oldStart","oldEnd","rowCount","columnCount","distances","equals","north","west","spliceOperationsFromEditDistances","edits","min","northWest","reverse","calcSplices","splice","prefixCount","suffixCount","minLength","Math","sharedPrefix","sharedSuffix","ops","splices","oldIndex","searchLength","index1","index2","count","calculateSplices","previous","currentValue","previousValue","NormalizedEvent","inType","params","createEvent","initEvent","bubbles","cancelable","Distributor","getInsertionPoints","isInsertionPoint","distribute","distributePool","collectPool","pool","dirtyRoots","distributeInsertionPoint","prevAssignedNodes","clearAssignedSlots","needsSlotChange","anyDistributed","matchesInsertionPoint","_prevAssignedSlot","distributeNodeInto","children$$1","setDistributedNodesOnInsertionPoint","_fireSlotChange","slot","savePrevious","slotName","trim","distributedNodes","d$","dispatchEvent","DocumentFragment","_renderPending","_hasRendered","_distributor","_getRenderRoot","renderRoot","_rendererForHost","_render","updateInsertionPoints","compose","forceRender","i$","__insertionPoints","insertionPoints","_composeTree","_updateChildNodes","_composeNode","distributedNode","next","nodeMixin","optionsOrCapture","capture","once","passive","__eventWrappers","wrapperFn","eventPhase","BUBBLING_PHASE","bubble","idx","replaceChild","isConnected","textMixin","fragmentMixin","slotMixin","elementMixin","defineProperties","documentMixin","_activeElement","patch","filterMutations","targetRootNode","map","mutation","mutationInScope","m","observeChildren","add","_callback","_observer","_node","unobserveChildren","handle","delete","size","Text","previousImportNode","HTMLSlotElement","nativeHTMLElement","HTMLElement"],"mappings":"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","file":"shadydom.min.js","sourcesContent":["(function () {\n'use strict';\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet settings = window.ShadyDOM || {};\n\nsettings.hasNativeShadowDOM = Boolean(Element.prototype.attachShadow && Node.prototype.getRootNode);\n\nlet desc = Object.getOwnPropertyDescriptor(Node.prototype, 'firstChild');\n\nsettings.hasDescriptors = Boolean(desc && desc.configurable && desc.get);\nsettings.inUse = settings.force || !settings.hasNativeShadowDOM;\n\nfunction isShadyRoot(obj) {\n  return Boolean(obj.__localName === 'ShadyRoot');\n}\n\nfunction ownerShadyRootForNode(node) {\n  let root = node.getRootNode();\n  if (isShadyRoot(root)) {\n    return root;\n  }\n}\n\nlet p = Element.prototype;\nlet matches = p.matches || p.matchesSelector ||\n  p.mozMatchesSelector || p.msMatchesSelector ||\n  p.oMatchesSelector || p.webkitMatchesSelector;\n\nfunction matchesSelector(element, selector) {\n  return matches.call(element, selector);\n}\n\nfunction copyOwnProperty(name, source, target) {\n  let pd = Object.getOwnPropertyDescriptor(source, name);\n  if (pd) {\n    Object.defineProperty(target, name, pd);\n  }\n}\n\nfunction extend(target, source) {\n  if (target && source) {\n    let n$ = Object.getOwnPropertyNames(source);\n    for (let i=0, n; (i<n$.length) && (n=n$[i]); i++) {\n      copyOwnProperty(n, source, target);\n    }\n  }\n  return target || source;\n}\n\nfunction extendAll(target, ...sources) {\n  for (let i=0; i < sources.length; i++) {\n    extend(target, sources[i]);\n  }\n  return target;\n}\n\nfunction mixin(target, source) {\n  for (var i in source) {\n    target[i] = source[i];\n  }\n  return target;\n}\n\nfunction patchPrototype(obj, mixin) {\n  let proto = Object.getPrototypeOf(obj);\n  if (!proto.hasOwnProperty('__patchProto')) {\n    let patchProto = Object.create(proto);\n    patchProto.__sourceProto = proto;\n    extend(patchProto, mixin);\n    proto.__patchProto = patchProto;\n  }\n  // old browsers don't have setPrototypeOf\n  obj.__proto__ = proto.__patchProto;\n}\n\n// TODO(sorvell): actually rely on a real Promise polyfill...\nlet promish;\nif (window.Promise) {\n  promish = Promise.resolve();\n} else {\n  let twiddle = document.createTextNode('');\n  let content = 0;\n  promish = {\n    then(cb) {\n      // To preserve timing with Promise microtasks\n      // we create a new observer for every callback.\n      let observer = new MutationObserver(function() {\n        observer.disconnect();\n        cb();\n      });\n      observer.observe(twiddle, {characterData: true});\n      twiddle.textContent = content++;\n    }\n  };\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// render enqueuer/flusher\nlet customElements$1 = window.customElements;\nlet flushList = [];\nlet scheduled;\nlet flushCount = 0;\nlet flushMax = 100;\nfunction enqueue(callback) {\n  if (!scheduled) {\n    scheduled = true;\n    promish.then(flush);\n  }\n  flushList.push(callback);\n}\n\nfunction flush() {\n  scheduled = false;\n  flushCount++;\n  while (flushList.length) {\n    flushList.shift()();\n  }\n  if (customElements$1 && customElements$1.flush) {\n    customElements$1.flush();\n  }\n  // continue flushing after elements are upgraded...\n  const isFlushedMaxed = (flushCount > flushMax);\n  if (flushList.length && !isFlushedMaxed) {\n      flush();\n  }\n  flushCount = 0;\n  if (isFlushedMaxed) {\n    throw new Error('Loop detected in ShadyDOM distribution, aborting.')\n  }\n}\n\nflush.list = flushList;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nclass AsyncObserver {\n\n  constructor() {\n    this._scheduled = false;\n    this.addedNodes = [];\n    this.removedNodes = [];\n    this.callbacks = new Set();\n  }\n\n  schedule() {\n    if (!this._scheduled) {\n      this._scheduled = true;\n      promish.then(() => {\n        this.flush();\n      });\n    }\n  }\n\n  flush() {\n    if (this._scheduled) {\n      this._scheduled = false;\n      let mutations = this.takeRecords();\n      if (mutations.length) {\n        this.callbacks.forEach(function(cb) {\n          cb(mutations);\n        });\n      }\n    }\n  }\n\n  takeRecords() {\n    if (this.addedNodes.length || this.removedNodes.length) {\n      let mutations = [{\n        addedNodes: this.addedNodes,\n        removedNodes: this.removedNodes\n      }];\n      this.addedNodes = [];\n      this.removedNodes = [];\n      return mutations;\n    }\n    return [];\n  }\n\n}\n\n// TODO(sorvell): consider instead polyfilling MutationObserver\n// directly so that users do not have to fork their code.\n// Supporting the entire api may be challenging: e.g. filtering out\n// removed nodes in the wrong scope and seeing non-distributing\n// subtree child mutations.\nlet observeChildren = function(node, callback) {\n  node.__shady = node.__shady || {};\n  if (!node.__shady.observer) {\n    node.__shady.observer = new AsyncObserver();\n  }\n  node.__shady.observer.callbacks.add(callback);\n  let observer = node.__shady.observer;\n  return {\n    _callback: callback,\n    _observer: observer,\n    _node: node,\n    takeRecords() {\n      return observer.takeRecords()\n    }\n  };\n};\n\nlet unobserveChildren = function(handle) {\n  let observer = handle && handle._observer;\n  if (observer) {\n    observer.callbacks.delete(handle._callback);\n    if (!observer.callbacks.size) {\n      handle._node.__shady.observer = null;\n    }\n  }\n};\n\nfunction filterMutations(mutations, target) {\n  const targetRootNode = target.getRootNode();\n  return mutations.map(function(mutation) {\n    const mutationInScope = (targetRootNode === mutation.target.getRootNode());\n    if (mutationInScope && mutation.addedNodes) {\n      let nodes = Array.from(mutation.addedNodes).filter(function(n) {\n        return (targetRootNode === n.getRootNode());\n      });\n      if (nodes.length) {\n        mutation = Object.create(mutation);\n        Object.defineProperty(mutation, 'addedNodes', {\n          value: nodes,\n          configurable: true\n        });\n        return mutation;\n      }\n    } else if (mutationInScope) {\n      return mutation;\n    }\n  }).filter(function(m) { return m});\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet nativeAppendChild = Element.prototype.appendChild;\nlet appendChild = nativeAppendChild;\n\nlet nativeInsertBefore = Element.prototype.insertBefore;\nlet insertBefore = nativeInsertBefore;\n\nlet nativeRemoveChild = Element.prototype.removeChild;\nlet removeChild = nativeRemoveChild;\n\nlet nativeSetAttribute = Element.prototype.setAttribute;\nlet setAttribute = nativeSetAttribute;\n\nlet nativeRemoveAttribute = Element.prototype.removeAttribute;\nlet removeAttribute = nativeRemoveAttribute;\n\nlet nativeCloneNode = Element.prototype.cloneNode;\nlet cloneNode = nativeCloneNode;\n\nlet nativeImportNode = Document.prototype.importNode;\nlet importNode = nativeImportNode;\n\nlet nativeAddEventListener = Element.prototype.addEventListener;\nlet addEventListener = nativeAddEventListener;\n\nlet nativeRemoveEventListener = Element.prototype.removeEventListener;\nlet removeEventListener = nativeRemoveEventListener;\n\n\nvar nativeMethods = Object.freeze({\n\tappendChild: appendChild,\n\tinsertBefore: insertBefore,\n\tremoveChild: removeChild,\n\tsetAttribute: setAttribute,\n\tremoveAttribute: removeAttribute,\n\tcloneNode: cloneNode,\n\timportNode: importNode,\n\taddEventListener: addEventListener,\n\tremoveEventListener: removeEventListener\n});\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// Cribbed from ShadowDOM polyfill\n// https://github.com/webcomponents/webcomponentsjs/blob/master/src/ShadowDOM/wrappers/HTMLElement.js#L28\n/////////////////////////////////////////////////////////////////////////////\n// innerHTML and outerHTML\n\n// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-end.html#escapingString\nlet escapeAttrRegExp = /[&\\u00A0\"]/g;\nlet escapeDataRegExp = /[&\\u00A0<>]/g;\n\nfunction escapeReplace(c) {\n  switch (c) {\n    case '&':\n      return '&amp;';\n    case '<':\n      return '&lt;';\n    case '>':\n      return '&gt;';\n    case '\"':\n      return '&quot;';\n    case '\\u00A0':\n      return '&nbsp;';\n  }\n}\n\nfunction escapeAttr(s) {\n  return s.replace(escapeAttrRegExp, escapeReplace);\n}\n\nfunction escapeData(s) {\n  return s.replace(escapeDataRegExp, escapeReplace);\n}\n\nfunction makeSet(arr) {\n  let set = {};\n  for (let i = 0; i < arr.length; i++) {\n    set[arr[i]] = true;\n  }\n  return set;\n}\n\n// http://www.whatwg.org/specs/web-apps/current-work/#void-elements\nlet voidElements = makeSet([\n  'area',\n  'base',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'hr',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr'\n]);\n\nlet plaintextParents = makeSet([\n  'style',\n  'script',\n  'xmp',\n  'iframe',\n  'noembed',\n  'noframes',\n  'plaintext',\n  'noscript'\n]);\n\nfunction getOuterHTML(node, parentNode, composed) {\n  switch (node.nodeType) {\n    case Node.ELEMENT_NODE: {\n      let tagName = node.localName;\n      let s = '<' + tagName;\n      let attrs = node.attributes;\n      for (let i = 0, attr; (attr = attrs[i]); i++) {\n        s += ' ' + attr.name + '=\"' + escapeAttr(attr.value) + '\"';\n      }\n      s += '>';\n      if (voidElements[tagName]) {\n        return s;\n      }\n      return s + getInnerHTML(node, composed) + '</' + tagName + '>';\n    }\n    case Node.TEXT_NODE: {\n      let data = node.data;\n      if (parentNode && plaintextParents[parentNode.localName]) {\n        return data;\n      }\n      return escapeData(data);\n    }\n    case Node.COMMENT_NODE: {\n      return '<!--' + node.data + '-->';\n    }\n    default: {\n      window.console.error(node);\n      throw new Error('not implemented');\n    }\n  }\n}\n\nfunction getInnerHTML(node, composed) {\n  if (node.localName === 'template') {\n    node = node.content;\n  }\n  let s = '';\n  let c$ = composed ? composed(node) : node.childNodes;\n  for (let i=0, l=c$.length, child; (i<l) && (child=c$[i]); i++) {\n    s += getOuterHTML(child, node, composed);\n  }\n  return s;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet nodeWalker = document.createTreeWalker(document, NodeFilter.SHOW_ALL,\n  null, false);\n\nlet elementWalker = document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT,\n  null, false);\n\nfunction parentNode(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.parentNode();\n}\n\nfunction firstChild(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.firstChild();\n}\n\nfunction lastChild(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.lastChild();\n}\n\nfunction previousSibling(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.previousSibling();\n}\n\nfunction nextSibling(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.nextSibling();\n}\n\nfunction childNodes(node) {\n  let nodes = [];\n  nodeWalker.currentNode = node;\n  let n = nodeWalker.firstChild();\n  while (n) {\n    nodes.push(n);\n    n = nodeWalker.nextSibling();\n  }\n  nodes.item = function(index){\n    return nodes[index];\n  };\n  return nodes;\n}\n\nfunction parentElement(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.parentNode();\n}\n\nfunction firstElementChild(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.firstChild();\n}\n\nfunction lastElementChild(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.lastChild();\n}\n\nfunction previousElementSibling(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.previousSibling();\n}\n\nfunction nextElementSibling(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.nextSibling();\n}\n\nfunction children(node) {\n  let nodes = [];\n  elementWalker.currentNode = node;\n  let n = elementWalker.firstChild();\n  while (n) {\n    nodes.push(n);\n    n = elementWalker.nextSibling();\n  }\n  return nodes;\n}\n\nfunction innerHTML(node) {\n  return getInnerHTML(node, (n) => childNodes(n));\n}\n\nfunction textContent(node) {\n  if (node.nodeType !== Node.ELEMENT_NODE) {\n    return node.nodeValue;\n  }\n  let textWalker = document.createTreeWalker(node, NodeFilter.SHOW_TEXT,\n    null, false);\n  let content = '', n;\n  while ( (n = textWalker.nextNode()) ) {\n    // TODO(sorvell): can't use textContent since we patch it on Node.prototype!\n    // However, should probably patch it only on element.\n    content += n.nodeValue;\n  }\n  return content;\n}\n\n\nvar nativeTree = Object.freeze({\n\tparentNode: parentNode,\n\tfirstChild: firstChild,\n\tlastChild: lastChild,\n\tpreviousSibling: previousSibling,\n\tnextSibling: nextSibling,\n\tchildNodes: childNodes,\n\tparentElement: parentElement,\n\tfirstElementChild: firstElementChild,\n\tlastElementChild: lastElementChild,\n\tpreviousElementSibling: previousElementSibling,\n\tnextElementSibling: nextElementSibling,\n\tchildren: children,\n\tinnerHTML: innerHTML,\n\ttextContent: textContent\n});\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction getProperty(node, prop) {\n  return node.__shady && node.__shady[prop];\n}\n\nfunction hasProperty(node, prop) {\n  return getProperty(node, prop) !== undefined;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction generateSimpleDescriptor(prop) {\n  return {\n    get() {\n      let l = getProperty(this, prop);\n      return l !== undefined ? l : nativeTree[prop](this);\n    },\n    configurable: true\n  }\n}\n\nlet domParser = new DOMParser();\n\nfunction insertDOMFrom(target, from) {\n  let c$ = Array.from(from.childNodes);\n  for (let i=0; i < c$.length; i++) {\n    target.appendChild(c$[i]);\n  }\n}\n\nfunction clearNode(node) {\n  while (node.firstChild) {\n    node.removeChild(node.firstChild);\n  }\n}\n\nlet nativeActiveElementDescriptor = Object.getOwnPropertyDescriptor(\n  Document.prototype, 'activeElement');\nfunction getDocumentActiveElement() {\n  if (nativeActiveElementDescriptor && nativeActiveElementDescriptor.get) {\n    return nativeActiveElementDescriptor.get.call(document);\n  } else if (!settings.hasDescriptors) {\n    return document.activeElement;\n  }\n}\n\nfunction activeElementForNode(node) {\n  let active = getDocumentActiveElement();\n  if (!active) {\n    return null;\n  }\n  let isShadyRoot$$1 = !!(isShadyRoot(node));\n  if (node !== document) {\n    // If this node isn't a document or shady root, then it doesn't have\n    // an active element.\n    if (!isShadyRoot$$1) {\n      return null;\n    }\n    // If this shady root's host is the active element or the active\n    // element is not a descendant of the host (in the composed tree),\n    // then it doesn't have an active element.\n    if (node.host === active ||\n        !node.host.contains(active)) {\n      return null;\n    }\n  }\n  // This node is either the document or a shady root of which the active\n  // element is a (composed) descendant of its host; iterate upwards to\n  // find the active element's most shallow host within it.\n  let activeRoot = ownerShadyRootForNode(active);\n  while (activeRoot && activeRoot !== node) {\n    active = activeRoot.host;\n    activeRoot = ownerShadyRootForNode(active);\n  }\n  if (node === document) {\n    // This node is the document, so activeRoot should be null.\n    return activeRoot ? null : active;\n  } else {\n    // This node is a non-document shady root, and it should be\n    // activeRoot.\n    return activeRoot === node ? active : null;\n  }\n}\n\nlet OutsideAccessors = {\n  // node...\n  parentElement: generateSimpleDescriptor('parentElement'),\n\n  parentNode: generateSimpleDescriptor('parentNode'),\n\n  nextSibling: generateSimpleDescriptor('nextSibling'),\n\n  previousSibling: generateSimpleDescriptor('previousSibling'),\n\n  className: {\n    get() {\n      return this.getAttribute('class');\n    },\n    set(value) {\n      this.setAttribute('class', value);\n    },\n    configurable: true\n  },\n\n  // fragment, element, document\n  nextElementSibling: {\n    get() {\n      if (hasProperty(this, 'nextSibling')) {\n        let n = this.nextSibling;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.nextSibling;\n        }\n        return n;\n      } else {\n        return nextElementSibling(this);\n      }\n    },\n    configurable: true\n  },\n\n  previousElementSibling: {\n    get() {\n      if (hasProperty(this, 'previousSibling')) {\n        let n = this.previousSibling;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.previousSibling;\n        }\n        return n;\n      } else {\n        return previousElementSibling(this);\n      }\n    },\n    configurable: true\n  }\n\n};\n\nlet InsideAccessors = {\n\n  childNodes: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        if (!this.__shady.childNodes) {\n          this.__shady.childNodes = [];\n          for (let n=this.firstChild; n; n=n.nextSibling) {\n            this.__shady.childNodes.push(n);\n          }\n        }\n        return this.__shady.childNodes;\n      } else {\n        return childNodes(this);\n      }\n    },\n    configurable: true\n  },\n\n  firstChild: generateSimpleDescriptor('firstChild'),\n\n  lastChild: generateSimpleDescriptor('lastChild'),\n\n  textContent: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        let tc = [];\n        for (let i = 0, cn = this.childNodes, c; (c = cn[i]); i++) {\n          if (c.nodeType !== Node.COMMENT_NODE) {\n            tc.push(c.textContent);\n          }\n        }\n        return tc.join('');\n      } else {\n        return textContent(this);\n      }\n    },\n    set(text) {\n      if (this.nodeType !== Node.ELEMENT_NODE) {\n        // TODO(sorvell): can't do this if patch nodeValue.\n        this.nodeValue = text;\n      } else {\n        clearNode(this);\n        if (text) {\n          this.appendChild(document.createTextNode(text));\n        }\n      }\n    },\n    configurable: true\n  },\n\n  // fragment, element, document\n  firstElementChild: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        let n = this.firstChild;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.nextSibling;\n        }\n        return n;\n      } else {\n        return firstElementChild(this);\n      }\n    },\n    configurable: true\n  },\n\n  lastElementChild: {\n    get() {\n      if (hasProperty(this, 'lastChild')) {\n        let n = this.lastChild;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.previousSibling;\n        }\n        return n;\n      } else {\n        return lastElementChild(this);\n      }\n    },\n    configurable: true\n  },\n\n  children: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        return Array.prototype.filter.call(this.childNodes, function(n) {\n          return (n.nodeType === Node.ELEMENT_NODE);\n        });\n      } else {\n        return children(this);\n      }\n    },\n    configurable: true\n  },\n\n  // element (HTMLElement on IE11)\n  innerHTML: {\n    get() {\n      let content = this.localName === 'template' ? this.content : this;\n      if (hasProperty(this, 'firstChild')) {\n        return getInnerHTML(content);\n      } else {\n        return innerHTML(content);\n      }\n    },\n    set(text) {\n      let content = this.localName === 'template' ? this.content : this;\n      clearNode(content);\n      let doc = domParser.parseFromString(text, 'text/html');\n      if (doc.head) {\n        insertDOMFrom(content, doc.head);\n      }\n      if (doc.body) {\n        insertDOMFrom(content, doc.body);\n      }\n    },\n    configurable: true\n  }\n\n};\n\n// Note: Can be patched on element prototype on all browsers.\n// Must be patched on instance on browsers that support native Shadow DOM\n// but do not have builtin accessors (old Chrome).\nlet ShadowRootAccessor = {\n  shadowRoot: {\n    get() {\n      return this.shadyRoot;\n    },\n    set(value) {\n      this.shadyRoot = value;\n    },\n    configurable: true\n  }\n};\n\n// Note: Can be patched on document prototype on browsers with builtin accessors.\n// Must be patched separately on simulated ShadowRoot.\n// Must be patched as `_activeElement` on browsers without builtin accessors.\nlet ActiveElementAccessor = {\n\n  activeElement: {\n    get() {\n      return activeElementForNode(this);\n    },\n    set() {},\n    configurable: true\n  }\n\n};\n\n// patch a group of descriptors on an object only if it exists or if the `force`\n// argument is true.\nfunction patchAccessorGroup(obj, descriptors, force) {\n  for (let p in descriptors) {\n    let objDesc = Object.getOwnPropertyDescriptor(obj, p);\n    if ((objDesc && objDesc.configurable) ||\n      (!objDesc && force)) {\n      Object.defineProperty(obj, p, descriptors[p]);\n    } else if (force) {\n      console.warn('Could not define', p, 'on', obj);\n    }\n  }\n}\n\n// patch dom accessors on proto where they exist\nfunction patchAccessors(proto) {\n  patchAccessorGroup(proto, OutsideAccessors);\n  patchAccessorGroup(proto, InsideAccessors);\n  patchAccessorGroup(proto, ActiveElementAccessor);\n}\n\n// ensure element descriptors (IE/Edge don't have em)\nfunction patchShadowRootAccessors(proto) {\n  patchAccessorGroup(proto, InsideAccessors, true);\n  patchAccessorGroup(proto, ActiveElementAccessor, true);\n}\n\n// ensure an element has patched \"outside\" accessors; no-op when not needed\nlet patchOutsideElementAccessors = settings.hasDescriptors ?\n  function() {} : function(element) {\n    if (!(element.__shady && element.__shady.__outsideAccessors)) {\n      element.__shady = element.__shady || {};\n      element.__shady.__outsideAccessors = true;\n      patchAccessorGroup(element, OutsideAccessors, true);\n    }\n  };\n\n// ensure an element has patched \"inside\" accessors; no-op when not needed\nlet patchInsideElementAccessors = settings.hasDescriptors ?\n  function() {} : function(element) {\n    if (!(element.__shady && element.__shady.__insideAccessors)) {\n      element.__shady = element.__shady || {};\n      element.__shady.__insideAccessors = true;\n      patchAccessorGroup(element, InsideAccessors, true);\n      patchAccessorGroup(element, ShadowRootAccessor, true);\n    }\n  };\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction recordInsertBefore(node, container, ref_node) {\n  patchInsideElementAccessors(container);\n  container.__shady = container.__shady || {};\n  if (hasProperty(container, 'firstChild')) {\n    container.__shady.childNodes = null;\n  }\n  // handle document fragments\n  if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n    let c$ = node.childNodes;\n    for (let i=0; i < c$.length; i++) {\n      linkNode(c$[i], container, ref_node);\n    }\n    // cleanup logical dom in doc fragment.\n    node.__shady = node.__shady || {};\n    let resetTo = hasProperty(node, 'firstChild') ? null : undefined;\n    node.__shady.firstChild = node.__shady.lastChild = resetTo;\n    node.__shady.childNodes = resetTo;\n  } else {\n    linkNode(node, container, ref_node);\n  }\n}\n\nfunction linkNode(node, container, ref_node) {\n  patchOutsideElementAccessors(node);\n  ref_node = ref_node || null;\n  node.__shady = node.__shady || {};\n  container.__shady = container.__shady || {};\n  if (ref_node) {\n    ref_node.__shady = ref_node.__shady || {};\n  }\n  // update ref_node.previousSibling <-> node\n  node.__shady.previousSibling = ref_node ? ref_node.__shady.previousSibling :\n    container.lastChild;\n  let ps = node.__shady.previousSibling;\n  if (ps && ps.__shady) {\n    ps.__shady.nextSibling = node;\n  }\n  // update node <-> ref_node\n  let ns = node.__shady.nextSibling = ref_node;\n  if (ns && ns.__shady) {\n    ns.__shady.previousSibling = node;\n  }\n  // update node <-> container\n  node.__shady.parentNode = container;\n  if (ref_node) {\n    if (ref_node === container.__shady.firstChild) {\n      container.__shady.firstChild = node;\n    }\n  } else {\n    container.__shady.lastChild = node;\n    if (!container.__shady.firstChild) {\n      container.__shady.firstChild = node;\n    }\n  }\n  // remove caching of childNodes\n  container.__shady.childNodes = null;\n}\n\nfunction recordRemoveChild(node, container) {\n  node.__shady = node.__shady || {};\n  container.__shady = container.__shady || {};\n  if (node === container.__shady.firstChild) {\n    container.__shady.firstChild = node.__shady.nextSibling;\n  }\n  if (node === container.__shady.lastChild) {\n    container.__shady.lastChild = node.__shady.previousSibling;\n  }\n  let p = node.__shady.previousSibling;\n  let n = node.__shady.nextSibling;\n  if (p) {\n    p.__shady = p.__shady || {};\n    p.__shady.nextSibling = n;\n  }\n  if (n) {\n    n.__shady = n.__shady || {};\n    n.__shady.previousSibling = p;\n  }\n  // When an element is removed, logical data is no longer tracked.\n  // Explicitly set `undefined` here to indicate this. This is disginguished\n  // from `null` which is set if info is null.\n  node.__shady.parentNode = node.__shady.previousSibling =\n    node.__shady.nextSibling = undefined;\n  if (hasProperty(container, 'childNodes')) {\n    // remove caching of childNodes\n    container.__shady.childNodes = null;\n  }\n}\n\nlet recordChildNodes = function(node) {\n  if (!hasProperty(node, 'firstChild')) {\n    node.__shady = node.__shady || {};\n    node.__shady.firstChild = firstChild(node);\n    node.__shady.lastChild = lastChild(node);\n    patchInsideElementAccessors(node);\n    let c$ = node.__shady.childNodes = childNodes(node);\n    for (let i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n      n.__shady = n.__shady || {};\n      n.__shady.parentNode = node;\n      n.__shady.nextSibling = c$[i+1] || null;\n      n.__shady.previousSibling = c$[i-1] || null;\n      patchOutsideElementAccessors(n);\n    }\n  }\n};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// Try to add node. Record logical info, track insertion points, perform\n// distribution iff needed. Return true if the add is handled.\nfunction addNode(container, node, ref_node) {\n  let ownerRoot = ownerShadyRootForNode(container);\n  let ipAdded;\n  if (ownerRoot) {\n    // optimization: special insertion point tracking\n    // TODO(sorvell): verify that the renderPending check here should not be needed.\n    if (node.__noInsertionPoint && !ownerRoot._changePending) {\n      ownerRoot._skipUpdateInsertionPoints = true;\n    }\n    // note: we always need to see if an insertion point is added\n    // since this saves logical tree info; however, invalidation state\n    // needs\n    ipAdded = _maybeAddInsertionPoint(node, container, ownerRoot);\n    // invalidate insertion points IFF not already invalid!\n    if (ipAdded) {\n      ownerRoot._skipUpdateInsertionPoints = false;\n    }\n  }\n  if (hasProperty(container, 'firstChild')) {\n    recordInsertBefore(node, container, ref_node);\n  }\n  // if not distributing and not adding to host, do a fast path addition\n  // TODO(sorvell): revisit flow since `ipAdded` needed here if\n  // node is a fragment that has a patched QSA.\n  let handled = _maybeDistribute(node, container, ownerRoot, ipAdded) ||\n    container.shadyRoot;\n  return handled;\n}\n\n// Try to remove node: update logical info and perform distribution iff\n// needed. Return true if the removal has been handled.\n// note that it's possible for both the node's host and its parent\n// to require distribution... both cases are handled here.\nfunction removeNode(node) {\n  // important that we want to do this only if the node has a logical parent\n  let logicalParent = hasProperty(node, 'parentNode') &&\n    getProperty(node, 'parentNode');\n  let distributed;\n  let ownerRoot = ownerShadyRootForNode(node);\n  if (logicalParent || ownerRoot) {\n    // distribute node's parent iff needed\n    distributed = maybeDistributeParent(node);\n    if (logicalParent) {\n      recordRemoveChild(node, logicalParent);\n    }\n    // remove node from root and distribute it iff needed\n    let removedDistributed = ownerRoot &&\n      _removeDistributedChildren(ownerRoot, node);\n    let addedInsertionPoint = (logicalParent && ownerRoot &&\n      logicalParent.localName === ownerRoot.getInsertionPointTag());\n    if (removedDistributed || addedInsertionPoint) {\n      ownerRoot._skipUpdateInsertionPoints = false;\n      updateRootViaContentChange(ownerRoot);\n    }\n  }\n  _removeOwnerShadyRoot(node);\n  return distributed;\n}\n\n\nfunction _scheduleObserver(node, addedNode, removedNode) {\n  let observer = node.__shady && node.__shady.observer;\n  if (observer) {\n    if (addedNode) {\n      observer.addedNodes.push(addedNode);\n    }\n    if (removedNode) {\n      observer.removedNodes.push(removedNode);\n    }\n    observer.schedule();\n  }\n}\n\nfunction removeNodeFromParent(node, parent) {\n  if (parent) {\n    _scheduleObserver(parent, null, node);\n    return removeNode(node);\n  } else {\n    _removeOwnerShadyRoot(node);\n  }\n}\n\nfunction _hasCachedOwnerRoot(node) {\n  return Boolean(node.__ownerShadyRoot !== undefined);\n}\n\nfunction getRootNode(node) {\n  if (!node || !node.nodeType) {\n    return;\n  }\n  let root = node.__ownerShadyRoot;\n  if (root === undefined) {\n    if (isShadyRoot(node)) {\n      root = node;\n    } else {\n      let parent = node.parentNode;\n      root = parent ? getRootNode(parent) : node;\n    }\n    // memo-ize result for performance but only memo-ize\n    // result if node is in the document. This avoids a problem where a root\n    // can be cached while an element is inside a fragment.\n    // If this happens and we cache the result, the value can become stale\n    // because for perf we avoid processing the subtree of added fragments.\n    if (document.documentElement.contains(node)) {\n      node.__ownerShadyRoot = root;\n    }\n  }\n  return root;\n}\n\nfunction _maybeDistribute(node, container, ownerRoot, ipAdded) {\n  // TODO(sorvell): technically we should check non-fragment nodes for\n  // <content> children but since this case is assumed to be exceedingly\n  // rare, we avoid the cost and will address with some specific api\n  // when the need arises.  For now, the user must call\n  // distributeContent(true), which updates insertion points manually\n  // and forces distribution.\n  let insertionPointTag = ownerRoot && ownerRoot.getInsertionPointTag() || '';\n  let fragContent = (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) &&\n    !node.__noInsertionPoint &&\n    insertionPointTag && node.querySelector(insertionPointTag);\n  let wrappedContent = fragContent &&\n    (fragContent.parentNode.nodeType !==\n    Node.DOCUMENT_FRAGMENT_NODE);\n  let hasContent = fragContent || (node.localName === insertionPointTag);\n  // There are 3 possible cases where a distribution may need to occur:\n  // 1. <content> being inserted (the host of the shady root where\n  //    content is inserted needs distribution)\n  // 2. children being inserted into parent with a shady root (parent\n  //    needs distribution)\n  // 3. container is an insertionPoint\n  if (hasContent || (container.localName === insertionPointTag) || ipAdded) {\n    if (ownerRoot) {\n      // note, insertion point list update is handled after node\n      // mutations are complete\n      updateRootViaContentChange(ownerRoot);\n    }\n  }\n  let needsDist = _nodeNeedsDistribution(container);\n  if (needsDist) {\n    updateRootViaContentChange(container.shadyRoot);\n  }\n  // Return true when distribution will fully handle the composition\n  // Note that if a content was being inserted that was wrapped by a node,\n  // and the parent does not need distribution, return false to allow\n  // the nodes to be added directly, after which children may be\n  // distributed and composed into the wrapping node(s)\n  return needsDist || (hasContent && !wrappedContent);\n}\n\n/* note: parent argument is required since node may have an out\nof date parent at this point; returns true if a <content> is being added */\nfunction _maybeAddInsertionPoint(node, parent, root) {\n  let added;\n  let insertionPointTag = root.getInsertionPointTag();\n  if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE &&\n    !node.__noInsertionPoint) {\n    let c$ = node.querySelectorAll(insertionPointTag);\n    for (let i=0, n, np, na; (i<c$.length) && (n=c$[i]); i++) {\n      np = n.parentNode;\n      // don't allow node's parent to be fragment itself\n      if (np === node) {\n        np = parent;\n      }\n      na = _maybeAddInsertionPoint(n, np, root);\n      added = added || na;\n    }\n  } else if (node.localName === insertionPointTag) {\n    recordChildNodes(parent);\n    recordChildNodes(node);\n    added = true;\n  }\n  return added;\n}\n\nfunction _nodeNeedsDistribution(node) {\n  return node && node.shadyRoot &&\n    node.shadyRoot.hasInsertionPoint();\n}\n\nfunction _removeDistributedChildren(root, container) {\n  let hostNeedsDist;\n  let ip$ = root._insertionPoints;\n  for (let i=0; i<ip$.length; i++) {\n    let insertionPoint = ip$[i];\n    if (_contains(container, insertionPoint)) {\n      let dc$ = insertionPoint.assignedNodes({flatten: true});\n      for (let j=0; j<dc$.length; j++) {\n        hostNeedsDist = true;\n        let node = dc$[j];\n        let parent = parentNode(node);\n        if (parent) {\n          removeChild.call(parent, node);\n        }\n      }\n    }\n  }\n  return hostNeedsDist;\n}\n\nfunction _contains(container, node) {\n  while (node) {\n    if (node == container) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n}\n\nfunction _removeOwnerShadyRoot(node) {\n  // optimization: only reset the tree if node is actually in a root\n  if (_hasCachedOwnerRoot(node)) {\n    let c$ = node.childNodes;\n    for (let i=0, l=c$.length, n; (i<l) && (n=c$[i]); i++) {\n      _removeOwnerShadyRoot(n);\n    }\n  }\n  node.__ownerShadyRoot = undefined;\n}\n\n// TODO(sorvell): This will fail if distribution that affects this\n// question is pending; this is expected to be exceedingly rare, but if\n// the issue comes up, we can force a flush in this case.\nfunction firstComposedNode(insertionPoint) {\n  let n$ = insertionPoint.assignedNodes({flatten: true});\n  let root = getRootNode(insertionPoint);\n  for (let i=0, l=n$.length, n; (i<l) && (n=n$[i]); i++) {\n    // means that we're composed to this spot.\n    if (root.isFinalDestination(insertionPoint, n)) {\n      return n;\n    }\n  }\n}\n\nfunction maybeDistributeParent(node) {\n  let parent = node.parentNode;\n  if (_nodeNeedsDistribution(parent)) {\n    updateRootViaContentChange(parent.shadyRoot);\n    return true;\n  }\n}\n\nfunction updateRootViaContentChange(root) {\n  // mark root as mutation based on a mutation\n  root._changePending = true;\n  root.update();\n}\n\nfunction distributeAttributeChange(node, name) {\n  if (name === 'slot') {\n    maybeDistributeParent(node);\n  } else if (node.localName === 'slot' && name === 'name') {\n    let root = ownerShadyRootForNode(node);\n    if (root) {\n      root.update();\n    }\n  }\n}\n\n// NOTE: `query` is used primarily for ShadyDOM's querySelector impl,\n// but it's also generally useful to recurse through the element tree\n// and is used by Polymer's styling system.\nfunction query(node, matcher, halter) {\n  let list = [];\n  _queryElements(node.childNodes, matcher,\n    halter, list);\n  return list;\n}\n\nfunction _queryElements(elements, matcher, halter, list) {\n  for (let i=0, l=elements.length, c; (i<l) && (c=elements[i]); i++) {\n    if (c.nodeType === Node.ELEMENT_NODE &&\n        _queryElement(c, matcher, halter, list)) {\n      return true;\n    }\n  }\n}\n\nfunction _queryElement(node, matcher, halter, list) {\n  let result = matcher(node);\n  if (result) {\n    list.push(node);\n  }\n  if (halter && halter(result)) {\n    return result;\n  }\n  _queryElements(node.childNodes, matcher,\n    halter, list);\n}\n\nfunction renderRootNode(element) {\n  var root = element.getRootNode();\n  if (isShadyRoot(root)) {\n    root.render();\n  }\n}\n\nfunction setAttribute$1(node, attr, value) {\n  // avoid scoping elements in non-main document to avoid template documents\n  if (window.ShadyCSS && attr === 'class' && node.ownerDocument === document) {\n    window.ShadyCSS.setElementClass(node, value);\n  } else {\n    setAttribute.call(node, attr, value);\n    distributeAttributeChange(node, attr);\n  }\n}\n\nfunction removeAttribute$1(node, attr) {\n  removeAttribute.call(node, attr);\n  distributeAttributeChange(node, attr);\n}\n\n// cases in which we may not be able to just do standard native call\n// 1. container has a shadyRoot (needsDistribution IFF the shadyRoot\n// has an insertion point)\n// 2. container is a shadyRoot (don't distribute, instead set\n// container to container.host.\n// 3. node is <content> (host of container needs distribution)\nfunction insertBefore$1(parent, node, ref_node) {\n  if (ref_node) {\n    let p = getProperty(ref_node, 'parentNode');\n    if (p !== undefined && p !== parent) {\n      throw Error('The ref_node to be inserted before is not a child ' +\n        'of this node');\n    }\n  }\n  // remove node from its current position iff it's in a tree.\n  if (node.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {\n    let parent = getProperty(node, 'parentNode');\n    removeNodeFromParent(node, parent);\n  }\n  if (!addNode(parent, node, ref_node)) {\n    if (ref_node) {\n      // if ref_node is an insertion point replace with first distributed node\n      let root = ownerShadyRootForNode(ref_node);\n      if (root) {\n        ref_node = ref_node.localName === root.getInsertionPointTag() ?\n          firstComposedNode(ref_node) : ref_node;\n      }\n    }\n    // if adding to a shadyRoot, add to host instead\n    let container = isShadyRoot(parent) ?\n      parent.host : parent;\n    if (ref_node) {\n      insertBefore.call(container, node, ref_node);\n    } else {\n      appendChild.call(container, node);\n    }\n  }\n  _scheduleObserver(parent, node);\n  return node;\n}\n\n/**\n  Removes the given `node` from the element's `lightChildren`.\n  This method also performs dom composition.\n*/\nfunction removeChild$1(parent, node) {\n  if (node.parentNode !== parent) {\n    throw Error('The node to be removed is not a child of this node: ' +\n      node);\n  }\n  if (!removeNode(node)) {\n    // if removing from a shadyRoot, remove form host instead\n    let container = isShadyRoot(parent) ?\n      parent.host :\n      parent;\n    // not guaranteed to physically be in container; e.g.\n    // undistributed nodes.\n    let nativeParent = parentNode(node);\n    if (container === nativeParent) {\n      removeChild.call(container, node);\n    }\n  }\n  _scheduleObserver(parent, null, node);\n  return node;\n}\n\nfunction cloneNode$1(node, deep) {\n  if (node.localName == 'template') {\n    return cloneNode.call(node, deep);\n  } else {\n    let n = cloneNode.call(node, false);\n    if (deep) {\n      let c$ = node.childNodes;\n      for (let i=0, nc; i < c$.length; i++) {\n        nc = c$[i].cloneNode(true);\n        n.appendChild(nc);\n      }\n    }\n    return n;\n  }\n}\n\n// note: Though not technically correct, we fast path `importNode`\n// when called on a node not owned by the main document.\n// This allows, for example, elements that cannot\n// contain custom elements and are therefore not likely to contain shadowRoots\n// to cloned natively. This is a fairly significant performance win.\nfunction importNode$1(node, deep, nativeImportNode) {\n  if (!nativeImportNode) {\n    nativeImportNode = importNode;\n  }\n  if (node.ownerDocument !== document) {\n    return nativeImportNode.call(document, node, deep);\n  }\n  let n = nativeImportNode.call(document, node, false);\n  if (deep) {\n    let c$ = node.childNodes;\n    for (let i=0, nc; i < c$.length; i++) {\n      nc = importNode$1(c$[i], true, nativeImportNode);\n      n.appendChild(nc);\n    }\n  }\n  return n;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// https://github.com/w3c/webcomponents/issues/513#issuecomment-224183937\nlet alwaysComposed = {\n  blur: true,\n  focus: true,\n  focusin: true,\n  focusout: true,\n  click: true,\n  dblclick: true,\n  mousedown: true,\n  mouseenter: true,\n  mouseleave: true,\n  mousemove: true,\n  mouseout: true,\n  mouseover: true,\n  mouseup: true,\n  wheel: true,\n  beforeinput: true,\n  input: true,\n  keydown: true,\n  keyup: true,\n  compositionstart: true,\n  compositionupdate: true,\n  compositionend: true,\n  touchstart: true,\n  touchend: true,\n  touchmove: true,\n  touchcancel: true,\n  pointerover: true,\n  pointerenter: true,\n  pointerdown: true,\n  pointermove: true,\n  pointerup: true,\n  pointercancel: true,\n  pointerout: true,\n  pointerleave: true,\n  gotpointercapture: true,\n  lostpointercapture: true,\n  dragstart: true,\n  drag: true,\n  dragenter: true,\n  dragleave: true,\n  dragover: true,\n  drop: true,\n  dragend: true,\n  DOMActivate: true,\n  DOMFocusIn: true,\n  DOMFocusOut: true,\n  keypress: true\n};\n\nfunction pathComposer(startNode, composed) {\n  let composedPath = [];\n  let current = startNode;\n  let startRoot = startNode === window ? window : startNode.getRootNode();\n  while (current) {\n    composedPath.push(current);\n    if (current.assignedSlot) {\n      current = current.assignedSlot;\n    } else if (current.nodeType === Node.DOCUMENT_FRAGMENT_NODE && current.host && (composed || current !== startRoot)) {\n      current = current.host;\n    } else {\n      current = current.parentNode;\n    }\n  }\n  // event composedPath includes window when startNode's ownerRoot is document\n  if (composedPath[composedPath.length - 1] === document) {\n    composedPath.push(window);\n  }\n  return composedPath;\n}\n\nfunction retarget(refNode, path) {\n  if (!isShadyRoot) {\n    return refNode;\n  }\n  // If ANCESTOR's root is not a shadow root or ANCESTOR's root is BASE's\n  // shadow-including inclusive ancestor, return ANCESTOR.\n  let refNodePath = pathComposer(refNode, true);\n  let p$ = path;\n  for (let i=0, ancestor, lastRoot, root, rootIdx; i < p$.length; i++) {\n    ancestor = p$[i];\n    root = ancestor === window ? window : ancestor.getRootNode();\n    if (root !== lastRoot) {\n      rootIdx = refNodePath.indexOf(root);\n      lastRoot = root;\n    }\n    if (!isShadyRoot(root) || rootIdx > -1) {\n      return ancestor;\n    }\n  }\n}\n\nlet eventMixin = {\n\n  get composed() {\n    if (this.isTrusted && this.__composed === undefined) {\n      this.__composed = alwaysComposed[this.type];\n    }\n    return this.__composed || false;\n  },\n\n  composedPath() {\n    if (!this.__composedPath) {\n      this.__composedPath = pathComposer(this.__target, this.composed);\n    }\n    return this.__composedPath;\n  },\n\n  get target() {\n    return retarget(this.currentTarget, this.composedPath());\n  },\n\n  // http://w3c.github.io/webcomponents/spec/shadow/#event-relatedtarget-retargeting\n  get relatedTarget() {\n    if (!this.__relatedTarget) {\n      return null;\n    }\n    if (!this.__relatedTargetComposedPath) {\n      this.__relatedTargetComposedPath = pathComposer(this.__relatedTarget, true);\n    }\n    // find the deepest node in relatedTarget composed path that is in the same root with the currentTarget\n    return retarget(this.currentTarget, this.__relatedTargetComposedPath);\n  },\n  stopPropagation() {\n    Event.prototype.stopPropagation.call(this);\n    this.__propagationStopped = true;\n  },\n  stopImmediatePropagation() {\n    Event.prototype.stopImmediatePropagation.call(this);\n    this.__immediatePropagationStopped = true;\n    this.__propagationStopped = true;\n  }\n\n};\n\nfunction mixinComposedFlag(Base) {\n  // NOTE: avoiding use of `class` here so that transpiled output does not\n  // try to do `Base.call` with a dom construtor.\n  let klazz = function(type, options) {\n    let event = new Base(type, options);\n    event.__composed = options && Boolean(options.composed);\n    return event;\n  };\n  // put constructor properties on subclass\n  mixin(klazz, Base);\n  klazz.prototype = Base.prototype;\n  return klazz;\n}\n\nlet nonBubblingEventsToRetarget = {\n  focus: true,\n  blur: true\n};\n\nfunction fireHandlers(event, node, phase) {\n  let hs = node.__handlers && node.__handlers[event.type] &&\n    node.__handlers[event.type][phase];\n  if (hs) {\n    for (let i = 0, fn; (fn = hs[i]); i++) {\n      fn.call(node, event);\n      if (event.__immediatePropagationStopped) {\n        return;\n      }\n    }\n  }\n}\n\nfunction retargetNonBubblingEvent(e) {\n  let path = e.composedPath();\n  let node;\n  // override `currentTarget` to let patched `target` calculate correctly\n  Object.defineProperty(e, 'currentTarget', {\n    get: function() {\n      return node;\n    },\n    configurable: true\n  });\n  for (let i = path.length - 1; i >= 0; i--) {\n    node = path[i];\n    // capture phase fires all capture handlers\n    fireHandlers(e, node, 'capture');\n    if (e.__propagationStopped) {\n      return;\n    }\n  }\n\n  // set the event phase to `AT_TARGET` as in spec\n  Object.defineProperty(e, 'eventPhase', {value: Event.AT_TARGET});\n\n  // the event only needs to be fired when owner roots change when iterating the event path\n  // keep track of the last seen owner root\n  let lastFiredRoot;\n  for (let i = 0; i < path.length; i++) {\n    node = path[i];\n    if (i === 0 || (node.shadowRoot && node.shadowRoot === lastFiredRoot)) {\n      fireHandlers(e, node, 'bubble');\n      // don't bother with window, it doesn't have `getRootNode` and will be last in the path anyway\n      if (node !== window) {\n        lastFiredRoot = node.getRootNode();\n      }\n      if (e.__propagationStopped) {\n        return;\n      }\n    }\n  }\n}\n\nfunction addEventListener$1(type, fn, optionsOrCapture) {\n  if (!fn) {\n    return;\n  }\n\n  // The callback `fn` might be used for multiple nodes/events. Since we generate\n  // a wrapper function, we need to keep track of it when we remove the listener.\n  // It's more efficient to store the node/type/options information as Array in\n  // `fn` itself rather than the node (we assume that the same callback is used\n  // for few nodes at most, whereas a node will likely have many event listeners).\n  // NOTE(valdrin) invoking external functions is costly, inline has better perf.\n  let capture, once, passive;\n  if (typeof optionsOrCapture === 'object') {\n    capture = Boolean(optionsOrCapture.capture);\n    once = Boolean(optionsOrCapture.once);\n    passive = Boolean(optionsOrCapture.passive);\n  } else {\n    capture = Boolean(optionsOrCapture);\n    once = false;\n    passive = false;\n  }\n  if (fn.__eventWrappers) {\n    // Stop if the wrapper function has already been created.\n    for (let i = 0; i < fn.__eventWrappers.length; i++) {\n      if (fn.__eventWrappers[i].node === this &&\n          fn.__eventWrappers[i].type === type &&\n          fn.__eventWrappers[i].capture === capture &&\n          fn.__eventWrappers[i].once === once &&\n          fn.__eventWrappers[i].passive === passive) {\n        return;\n      }\n    }\n  } else {\n    fn.__eventWrappers = [];\n  }\n\n  const wrapperFn = function(e) {\n    // Support `once` option.\n    if (once) {\n      this.removeEventListener(type, fn, optionsOrCapture);\n    }\n    if (!e.__target) {\n      e.__target = e.target;\n      e.__relatedTarget = e.relatedTarget;\n      patchPrototype(e, eventMixin);\n    }\n    // There are two critera that should stop events from firing on this node\n    // 1. the event is not composed and the current node is not in the same root as the target\n    // 2. when bubbling, if after retargeting, relatedTarget and target point to the same node\n    if (e.composed || e.composedPath().indexOf(this) > -1) {\n      if (e.eventPhase === Event.BUBBLING_PHASE) {\n        if (e.target === e.relatedTarget) {\n          e.stopImmediatePropagation();\n          return;\n        }\n      }\n      return fn(e);\n    }\n  };\n  // Store the wrapper information.\n  fn.__eventWrappers.push({\n    node: this,\n    type: type,\n    capture: capture,\n    once: once,\n    passive: passive,\n    wrapperFn: wrapperFn\n  });\n\n  if (nonBubblingEventsToRetarget[type]) {\n    this.__handlers = this.__handlers || {};\n    this.__handlers[type] = this.__handlers[type] || {capture: [], bubble: []};\n    this.__handlers[type][capture ? 'capture' : 'bubble'].push(wrapperFn);\n  } else {\n    addEventListener.call(this, type, wrapperFn, optionsOrCapture);\n  }\n}\n\nfunction removeEventListener$1(type, fn, optionsOrCapture) {\n  if (!fn) {\n    return;\n  }\n\n  // NOTE(valdrin) invoking external functions is costly, inline has better perf.\n  let capture, once, passive;\n  if (typeof optionsOrCapture === 'object') {\n    capture = Boolean(optionsOrCapture.capture);\n    once = Boolean(optionsOrCapture.once);\n    passive = Boolean(optionsOrCapture.passive);\n  } else {\n    capture = Boolean(optionsOrCapture);\n    once = false;\n    passive = false;\n  }\n  // Search the wrapped function.\n  let wrapperFn = undefined;\n  if (fn.__eventWrappers) {\n    for (let i = 0; i < fn.__eventWrappers.length; i++) {\n      if (fn.__eventWrappers[i].node === this &&\n          fn.__eventWrappers[i].type === type &&\n          fn.__eventWrappers[i].capture === capture &&\n          fn.__eventWrappers[i].once === once &&\n          fn.__eventWrappers[i].passive === passive) {\n        wrapperFn = fn.__eventWrappers.splice(i, 1)[0].wrapperFn;\n        // Cleanup.\n        if (!fn.__eventWrappers.length) {\n          fn.__eventWrappers = undefined;\n        }\n        break;\n      }\n    }\n  }\n\n  removeEventListener.call(this, type, wrapperFn || fn, optionsOrCapture);\n  if (wrapperFn && nonBubblingEventsToRetarget[type] &&\n      this.__handlers && this.__handlers[type]) {\n    const arr = this.__handlers[type][capture ? 'capture' : 'bubble'];\n    const idx = arr.indexOf(wrapperFn);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n    }\n  }\n}\n\nfunction activateFocusEventOverrides() {\n  for (let ev in nonBubblingEventsToRetarget) {\n    window.addEventListener(ev, function(e) {\n      if (!e.__target) {\n        e.__target = e.target;\n        e.__relatedTarget = e.relatedTarget;\n        patchPrototype(e, eventMixin);\n        retargetNonBubblingEvent(e);\n        e.stopImmediatePropagation();\n      }\n    }, true);\n  }\n}\n\nlet PatchedEvent = mixinComposedFlag(window.Event);\nlet PatchedCustomEvent = mixinComposedFlag(window.CustomEvent);\nlet PatchedMouseEvent = mixinComposedFlag(window.MouseEvent);\n\nfunction patchEvents() {\n  window.Event = PatchedEvent;\n  window.CustomEvent = PatchedCustomEvent;\n  window.MouseEvent = PatchedMouseEvent;\n  activateFocusEventOverrides();\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction newSplice(index, removed, addedCount) {\n  return {\n    index: index,\n    removed: removed,\n    addedCount: addedCount\n  };\n}\n\nconst EDIT_LEAVE = 0;\nconst EDIT_UPDATE = 1;\nconst EDIT_ADD = 2;\nconst EDIT_DELETE = 3;\n\nlet ArraySplice = {\n\n  // Note: This function is *based* on the computation of the Levenshtein\n  // \"edit\" distance. The one change is that \"updates\" are treated as two\n  // edits - not one. With Array splices, an update is really a delete\n  // followed by an add. By retaining this, we optimize for \"keeping\" the\n  // maximum array items in the original array. For example:\n  //\n  //   'xxxx123' -> '123yyyy'\n  //\n  // With 1-edit updates, the shortest path would be just to update all seven\n  // characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n  // leaves the substring '123' intact.\n  calcEditDistances(current, currentStart, currentEnd,\n                              old, oldStart, oldEnd) {\n    // \"Deletion\" columns\n    let rowCount = oldEnd - oldStart + 1;\n    let columnCount = currentEnd - currentStart + 1;\n    let distances = new Array(rowCount);\n\n    // \"Addition\" rows. Initialize null column.\n    for (let i = 0; i < rowCount; i++) {\n      distances[i] = new Array(columnCount);\n      distances[i][0] = i;\n    }\n\n    // Initialize null row\n    for (let j = 0; j < columnCount; j++)\n      distances[0][j] = j;\n\n    for (let i = 1; i < rowCount; i++) {\n      for (let j = 1; j < columnCount; j++) {\n        if (this.equals(current[currentStart + j - 1], old[oldStart + i - 1]))\n          distances[i][j] = distances[i - 1][j - 1];\n        else {\n          let north = distances[i - 1][j] + 1;\n          let west = distances[i][j - 1] + 1;\n          distances[i][j] = north < west ? north : west;\n        }\n      }\n    }\n\n    return distances;\n  },\n\n  // This starts at the final weight, and walks \"backward\" by finding\n  // the minimum previous weight recursively until the origin of the weight\n  // matrix.\n  spliceOperationsFromEditDistances(distances) {\n    let i = distances.length - 1;\n    let j = distances[0].length - 1;\n    let current = distances[i][j];\n    let edits = [];\n    while (i > 0 || j > 0) {\n      if (i == 0) {\n        edits.push(EDIT_ADD);\n        j--;\n        continue;\n      }\n      if (j == 0) {\n        edits.push(EDIT_DELETE);\n        i--;\n        continue;\n      }\n      let northWest = distances[i - 1][j - 1];\n      let west = distances[i - 1][j];\n      let north = distances[i][j - 1];\n\n      let min;\n      if (west < north)\n        min = west < northWest ? west : northWest;\n      else\n        min = north < northWest ? north : northWest;\n\n      if (min == northWest) {\n        if (northWest == current) {\n          edits.push(EDIT_LEAVE);\n        } else {\n          edits.push(EDIT_UPDATE);\n          current = northWest;\n        }\n        i--;\n        j--;\n      } else if (min == west) {\n        edits.push(EDIT_DELETE);\n        i--;\n        current = west;\n      } else {\n        edits.push(EDIT_ADD);\n        j--;\n        current = north;\n      }\n    }\n\n    edits.reverse();\n    return edits;\n  },\n\n  /**\n   * Splice Projection functions:\n   *\n   * A splice map is a representation of how a previous array of items\n   * was transformed into a new array of items. Conceptually it is a list of\n   * tuples of\n   *\n   *   <index, removed, addedCount>\n   *\n   * which are kept in ascending index order of. The tuple represents that at\n   * the |index|, |removed| sequence of items were removed, and counting forward\n   * from |index|, |addedCount| items were added.\n   */\n\n  /**\n   * Lacking individual splice mutation information, the minimal set of\n   * splices can be synthesized given the previous state and final state of an\n   * array. The basic approach is to calculate the edit distance matrix and\n   * choose the shortest path through it.\n   *\n   * Complexity: O(l * p)\n   *   l: The length of the current array\n   *   p: The length of the old array\n   */\n  calcSplices(current, currentStart, currentEnd,\n                        old, oldStart, oldEnd) {\n    let prefixCount = 0;\n    let suffixCount = 0;\n    let splice;\n\n    let minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n    if (currentStart == 0 && oldStart == 0)\n      prefixCount = this.sharedPrefix(current, old, minLength);\n\n    if (currentEnd == current.length && oldEnd == old.length)\n      suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n\n    currentStart += prefixCount;\n    oldStart += prefixCount;\n    currentEnd -= suffixCount;\n    oldEnd -= suffixCount;\n\n    if (currentEnd - currentStart == 0 && oldEnd - oldStart == 0)\n      return [];\n\n    if (currentStart == currentEnd) {\n      splice = newSplice(currentStart, [], 0);\n      while (oldStart < oldEnd)\n        splice.removed.push(old[oldStart++]);\n\n      return [ splice ];\n    } else if (oldStart == oldEnd)\n      return [ newSplice(currentStart, [], currentEnd - currentStart) ];\n\n    let ops = this.spliceOperationsFromEditDistances(\n        this.calcEditDistances(current, currentStart, currentEnd,\n                               old, oldStart, oldEnd));\n\n    splice = undefined;\n    let splices = [];\n    let index = currentStart;\n    let oldIndex = oldStart;\n    for (let i = 0; i < ops.length; i++) {\n      switch(ops[i]) {\n        case EDIT_LEAVE:\n          if (splice) {\n            splices.push(splice);\n            splice = undefined;\n          }\n\n          index++;\n          oldIndex++;\n          break;\n        case EDIT_UPDATE:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.addedCount++;\n          index++;\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n        case EDIT_ADD:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.addedCount++;\n          index++;\n          break;\n        case EDIT_DELETE:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n      }\n    }\n\n    if (splice) {\n      splices.push(splice);\n    }\n    return splices;\n  },\n\n  sharedPrefix(current, old, searchLength) {\n    for (let i = 0; i < searchLength; i++)\n      if (!this.equals(current[i], old[i]))\n        return i;\n    return searchLength;\n  },\n\n  sharedSuffix(current, old, searchLength) {\n    let index1 = current.length;\n    let index2 = old.length;\n    let count = 0;\n    while (count < searchLength && this.equals(current[--index1], old[--index2]))\n      count++;\n\n    return count;\n  },\n\n  calculateSplices(current, previous) {\n    return this.calcSplices(current, 0, current.length, previous, 0,\n                            previous.length);\n  },\n\n  equals(currentValue, previousValue) {\n    return currentValue === previousValue;\n  }\n\n};\n\nlet calculateSplices = (current, previous) =>\n  ArraySplice.calculateSplices(current, previous);\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// NOTE: normalize event contruction where necessary (IE11)\nlet NormalizedEvent = typeof Event === 'function' ? Event :\n  function(inType, params) {\n    params = params || {};\n    var e = document.createEvent('Event');\n    e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n    return e;\n  };\n\nvar Distributor = class {\n\n  constructor(root) {\n    this.root = root;\n    this.insertionPointTag = 'slot';\n  }\n\n  getInsertionPoints() {\n    return this.root.querySelectorAll(this.insertionPointTag);\n  }\n\n  hasInsertionPoint() {\n    return Boolean(this.root._insertionPoints &&\n      this.root._insertionPoints.length);\n  }\n\n  isInsertionPoint(node) {\n    return node.localName && node.localName == this.insertionPointTag;\n  }\n\n  distribute() {\n    if (this.hasInsertionPoint()) {\n      return this.distributePool(this.root, this.collectPool());\n    }\n    return [];\n  }\n\n  // Gather the pool of nodes that should be distributed. We will combine\n  // these with the \"content root\" to arrive at the composed tree.\n  collectPool() {\n    let host = this.root.host;\n    let pool=[], i=0;\n    for (let n=host.firstChild; n; n=n.nextSibling) {\n      pool[i++] = n;\n    }\n    return pool;\n  }\n\n  // perform \"logical\" distribution; note, no actual dom is moved here,\n  // instead elements are distributed into storage\n  // array where applicable.\n  distributePool(node, pool) {\n    let dirtyRoots = [];\n    let p$ = this.root._insertionPoints;\n    for (let i=0, l=p$.length, p; (i<l) && (p=p$[i]); i++) {\n      this.distributeInsertionPoint(p, pool);\n      // provoke redistribution on insertion point parents\n      // must do this on all candidate hosts since distribution in this\n      // scope invalidates their distribution.\n      // only get logical parent.\n      let parent = p.parentNode;\n      if (parent && parent.shadyRoot &&\n          this.hasInsertionPoint(parent.shadyRoot)) {\n        dirtyRoots.push(parent.shadyRoot);\n      }\n    }\n    for (let i=0; i < pool.length; i++) {\n      let p = pool[i];\n      if (p) {\n        p.__shady = p.__shady || {};\n        p.__shady.assignedSlot = undefined;\n        // remove undistributed elements from physical dom.\n        let parent = parentNode(p);\n        if (parent) {\n          removeChild.call(parent, p);\n        }\n      }\n    }\n    return dirtyRoots;\n  }\n\n  distributeInsertionPoint(insertionPoint, pool) {\n    let prevAssignedNodes = insertionPoint.__shady.assignedNodes;\n    if (prevAssignedNodes) {\n      this.clearAssignedSlots(insertionPoint, true);\n    }\n    insertionPoint.__shady.assignedNodes = [];\n    let needsSlotChange = false;\n    // distribute nodes from the pool that this selector matches\n    let anyDistributed = false;\n    for (let i=0, l=pool.length, node; i < l; i++) {\n      node=pool[i];\n      // skip nodes that were already used\n      if (!node) {\n        continue;\n      }\n      // distribute this node if it matches\n      if (this.matchesInsertionPoint(node, insertionPoint)) {\n        if (node.__shady._prevAssignedSlot != insertionPoint) {\n          needsSlotChange = true;\n        }\n        this.distributeNodeInto(node, insertionPoint);\n        // remove this node from the pool\n        pool[i] = undefined;\n        // since at least one node matched, we won't need fallback content\n        anyDistributed = true;\n      }\n    }\n    // Fallback content if nothing was distributed here\n    if (!anyDistributed) {\n      let children$$1 = insertionPoint.childNodes;\n      for (let j = 0, node; j < children$$1.length; j++) {\n        node = children$$1[j];\n        if (node.__shady._prevAssignedSlot != insertionPoint) {\n          needsSlotChange = true;\n        }\n        this.distributeNodeInto(node, insertionPoint);\n      }\n    }\n    // we're already dirty if a node was newly added to the slot\n    // and we're also dirty if the assigned count decreased.\n    if (prevAssignedNodes) {\n      // TODO(sorvell): the tracking of previously assigned slots\n      // could instead by done with a Set and then we could\n      // avoid needing to iterate here to clear the info.\n      for (let i=0; i < prevAssignedNodes.length; i++) {\n        prevAssignedNodes[i].__shady._prevAssignedSlot = null;\n      }\n      if (insertionPoint.__shady.assignedNodes.length < prevAssignedNodes.length) {\n        needsSlotChange = true;\n      }\n    }\n    this.setDistributedNodesOnInsertionPoint(insertionPoint);\n    if (needsSlotChange) {\n      this._fireSlotChange(insertionPoint);\n    }\n  }\n\n  clearAssignedSlots(slot, savePrevious) {\n    let n$ = slot.__shady.assignedNodes;\n    if (n$) {\n      for (let i=0; i < n$.length; i++) {\n        let n = n$[i];\n        if (savePrevious) {\n          n.__shady._prevAssignedSlot = n.__shady.assignedSlot;\n        }\n        // only clear if it was previously set to this slot;\n        // this helps ensure that if the node has otherwise been distributed\n        // ignore it.\n        if (n.__shady.assignedSlot === slot) {\n          n.__shady.assignedSlot = null;\n        }\n      }\n    }\n  }\n\n  matchesInsertionPoint(node, insertionPoint) {\n    let slotName = insertionPoint.getAttribute('name');\n    slotName = slotName ? slotName.trim() : '';\n    let slot = node.getAttribute && node.getAttribute('slot');\n    slot = slot ? slot.trim() : '';\n    return (slot == slotName);\n  }\n\n  distributeNodeInto(child, insertionPoint) {\n    insertionPoint.__shady.assignedNodes.push(child);\n    child.__shady.assignedSlot = insertionPoint;\n  }\n\n  setDistributedNodesOnInsertionPoint(insertionPoint) {\n    let n$ = insertionPoint.__shady.assignedNodes;\n    insertionPoint.__shady.distributedNodes = [];\n    for (let i=0, n; (i<n$.length) && (n=n$[i]) ; i++) {\n      if (this.isInsertionPoint(n)) {\n        let d$ = n.__shady.distributedNodes;\n        if (d$) {\n          for (let j=0; j < d$.length; j++) {\n            insertionPoint.__shady.distributedNodes.push(d$[j]);\n          }\n        }\n      } else {\n        insertionPoint.__shady.distributedNodes.push(n$[i]);\n      }\n    }\n  }\n\n  _fireSlotChange(insertionPoint) {\n    // NOTE: cannot bubble correctly here so not setting bubbles: true\n    // Safari tech preview does not bubble but chrome does\n    // Spec says it bubbles (https://dom.spec.whatwg.org/#mutation-observers)\n    insertionPoint.dispatchEvent(new NormalizedEvent('slotchange'));\n    if (insertionPoint.__shady.assignedSlot) {\n      this._fireSlotChange(insertionPoint.__shady.assignedSlot);\n    }\n  }\n\n  isFinalDestination(insertionPoint) {\n    return !(insertionPoint.__shady.assignedSlot);\n  }\n\n};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n  Implements a pared down version of ShadowDOM's scoping, which is easy to\n  polyfill across browsers.\n*/\nfunction attachShadow(host, options) {\n  if (!host) {\n    throw 'Must provide a host.';\n  }\n  if (!options) {\n    throw 'Not enough arguments.'\n  }\n  // NOTE: this strange construction is necessary because\n  // DocumentFragment cannot be subclassed on older browsers.\n  let shadowRoot = document.createDocumentFragment();\n  shadowRoot.__proto__ = ShadyRootPrototype;\n  shadowRoot._init(host);\n  return shadowRoot;\n}\n\nlet ShadyRootPrototype = Object.create(DocumentFragment.prototype);\nextendAll(ShadyRootPrototype, {\n\n  _init(host) {\n    // NOTE: set a fake local name so this element can be\n    // distinguished from a DocumentFragment when patching.\n    // FF doesn't allow this to be `localName`\n    this.__localName = 'ShadyRoot';\n    // logical dom setup\n    recordChildNodes(host);\n    recordChildNodes(this);\n    // root <=> host\n    host.shadowRoot = this;\n    this.host = host;\n    // state flags\n    this._renderPending = false;\n    this._hasRendered = false;\n    this._changePending = false;\n    this._distributor = new Distributor(this);\n    this.update();\n  },\n\n  // async render\n  update() {\n    if (!this._renderPending) {\n      this._renderPending = true;\n      enqueue(() => this.render());\n    }\n  },\n\n  // returns the oldest renderPending ancestor root.\n  _getRenderRoot() {\n    let renderRoot = this;\n    let root = this;\n    while (root) {\n      if (root._renderPending) {\n        renderRoot = root;\n      }\n      root = root._rendererForHost();\n    }\n    return renderRoot;\n  },\n\n  // Returns the shadyRoot `this.host` if `this.host`\n  // has children that require distribution.\n  _rendererForHost() {\n    let root = this.host.getRootNode();\n    if (isShadyRoot(root)) {\n      let c$ = this.host.childNodes;\n      for (let i=0, c; i < c$.length; i++) {\n        c = c$[i];\n        if (this._distributor.isInsertionPoint(c)) {\n          return root;\n        }\n      }\n    }\n  },\n\n  render() {\n    if (this._renderPending) {\n      this._getRenderRoot()._render();\n    }\n  },\n\n  _render() {\n    this._renderPending = false;\n    this._changePending = false;\n    if (!this._skipUpdateInsertionPoints) {\n      this.updateInsertionPoints();\n    } else if (!this._hasRendered) {\n      this._insertionPoints = [];\n    }\n    this._skipUpdateInsertionPoints = false;\n    // TODO(sorvell): can add a first render optimization here\n    // to use if there are no insertion points\n    // 1. clear host node of composed children\n    // 2. appendChild the shadowRoot itself or (more robust) its logical children\n    // NOTE: this didn't seem worth it in perf testing\n    // but not ready to delete this info.\n    // logical\n    this.distribute();\n    // physical\n    this.compose();\n    this._hasRendered = true;\n  },\n\n  forceRender() {\n    this._renderPending = true;\n    this.render();\n  },\n\n  distribute() {\n    let dirtyRoots = this._distributor.distribute();\n    for (let i=0; i<dirtyRoots.length; i++) {\n      dirtyRoots[i]._render();\n    }\n  },\n\n  updateInsertionPoints() {\n    let i$ = this.__insertionPoints;\n    // if any insertion points have been removed, clear their distribution info\n    if (i$) {\n      for (let i=0, c; i < i$.length; i++) {\n        c = i$[i];\n        if (c.getRootNode() !== this) {\n          this._distributor.clearAssignedSlots(c);\n        }\n      }\n    }\n    i$ = this._insertionPoints = this._distributor.getInsertionPoints();\n    // ensure insertionPoints's and their parents have logical dom info.\n    // save logical tree info\n    // a. for shadyRoot\n    // b. for insertion points (fallback)\n    // c. for parents of insertion points\n    for (let i=0, c; i < i$.length; i++) {\n      c = i$[i];\n      c.__shady = c.__shady || {};\n      recordChildNodes(c);\n      recordChildNodes(c.parentNode);\n    }\n  },\n\n  get _insertionPoints() {\n    if (!this.__insertionPoints) {\n      this.updateInsertionPoints();\n    }\n    return this.__insertionPoints || (this.__insertionPoints = []);\n  },\n\n  set _insertionPoints(insertionPoints) {\n    this.__insertionPoints = insertionPoints;\n  },\n\n  hasInsertionPoint() {\n    return this._distributor.hasInsertionPoint();\n  },\n\n  compose() {\n    // compose self\n    // note: it's important to mark this clean before distribution\n    // so that attachment that provokes additional distribution (e.g.\n    // adding something to your parentNode) works\n    this._composeTree();\n    // TODO(sorvell): See fast paths here in Polymer v1\n    // (these seem unnecessary)\n  },\n\n  // Reify dom such that it is at its correct rendering position\n  // based on logical distribution.\n  _composeTree() {\n    this._updateChildNodes(this.host, this._composeNode(this.host));\n    let p$ = this._insertionPoints || [];\n    for (let i=0, l=p$.length, p, parent; (i<l) && (p=p$[i]); i++) {\n      parent = p.parentNode;\n      if ((parent !== this.host) && (parent !== this)) {\n        this._updateChildNodes(parent, this._composeNode(parent));\n      }\n    }\n  },\n\n  // Returns the list of nodes which should be rendered inside `node`.\n  _composeNode(node) {\n    let children$$1 = [];\n    let c$ = (node.shadyRoot || node).childNodes;\n    for (let i = 0; i < c$.length; i++) {\n      let child = c$[i];\n      if (this._distributor.isInsertionPoint(child)) {\n        let distributedNodes = child.__shady.distributedNodes ||\n          (child.__shady.distributedNodes = []);\n        for (let j = 0; j < distributedNodes.length; j++) {\n          let distributedNode = distributedNodes[j];\n          if (this.isFinalDestination(child, distributedNode)) {\n            children$$1.push(distributedNode);\n          }\n        }\n      } else {\n        children$$1.push(child);\n      }\n    }\n    return children$$1;\n  },\n\n  isFinalDestination(insertionPoint, node) {\n    return this._distributor.isFinalDestination(\n      insertionPoint, node);\n  },\n\n  // Ensures that the rendered node list inside `container` is `children`.\n  _updateChildNodes(container, children$$1) {\n    let composed = childNodes(container);\n    let splices = calculateSplices(children$$1, composed);\n    // process removals\n    for (let i=0, d=0, s; (i<splices.length) && (s=splices[i]); i++) {\n      for (let j=0, n; (j < s.removed.length) && (n=s.removed[j]); j++) {\n        // check if the node is still where we expect it is before trying\n        // to remove it; this can happen if we move a node and\n        // then schedule its previous host for distribution resulting in\n        // the node being removed here.\n        if (parentNode(n) === container) {\n          removeChild.call(container, n);\n        }\n        composed.splice(s.index + d, 1);\n      }\n      d -= s.addedCount;\n    }\n    // process adds\n    for (let i=0, s, next; (i<splices.length) && (s=splices[i]); i++) { //eslint-disable-line no-redeclare\n      next = composed[s.index];\n      for (let j=s.index, n; j < s.index + s.addedCount; j++) {\n        n = children$$1[j];\n        insertBefore.call(container, n, next);\n        // TODO(sorvell): is this splice strictly needed?\n        composed.splice(j, 0, n);\n      }\n    }\n  },\n\n  getInsertionPointTag() {\n    return this._distributor.insertionPointTag;\n  }\n\n});\n\npatchShadowRootAccessors(ShadyRootPrototype);\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction getAssignedSlot(node) {\n  renderRootNode(node);\n  return getProperty(node, 'assignedSlot') || null;\n}\n\nlet nodeMixin = {\n\n  addEventListener: addEventListener$1,\n\n  removeEventListener: removeEventListener$1,\n\n  appendChild(node) {\n    return insertBefore$1(this, node);\n  },\n\n  insertBefore(node, ref_node) {\n    return insertBefore$1(this, node, ref_node);\n  },\n\n  removeChild(node) {\n    return removeChild$1(this, node);\n  },\n\n  replaceChild(node, ref_node) {\n    this.insertBefore(node, ref_node);\n    this.removeChild(ref_node);\n    return node;\n  },\n\n  cloneNode(deep) {\n    return cloneNode$1(this, deep);\n  },\n\n  getRootNode(options) {\n    return getRootNode(this, options);\n  },\n\n  get isConnected() {\n    return document.documentElement.contains(this)\n  }\n\n};\n\n// NOTE: For some reason `Text` redefines `assignedSlot`\nlet textMixin = {\n  get assignedSlot() {\n    return getAssignedSlot(this);\n  }\n};\n\nlet fragmentMixin = {\n\n  // TODO(sorvell): consider doing native QSA and filtering results.\n  querySelector(selector) {\n    // match selector and halt on first result.\n    let result = query(this, function(n) {\n      return matchesSelector(n, selector);\n    }, function(n) {\n      return Boolean(n);\n    })[0];\n    return result || null;\n  },\n\n  querySelectorAll(selector) {\n    return query(this, function(n) {\n      return matchesSelector(n, selector);\n    });\n  }\n\n};\n\nlet slotMixin = {\n\n  assignedNodes(options) {\n    if (this.localName === 'slot') {\n      renderRootNode(this);\n      return this.__shady ?\n        ((options && options.flatten ? this.__shady.distributedNodes :\n        this.__shady.assignedNodes) || []) :\n        [];\n    }\n  }\n\n};\n\nlet elementMixin = extendAll({\n\n  setAttribute(name, value) {\n    setAttribute$1(this, name, value);\n  },\n\n  removeAttribute(name) {\n    removeAttribute$1(this, name);\n  },\n\n  attachShadow(options) {\n    return attachShadow(this, options);\n  },\n\n  get slot() {\n    return this.getAttribute('slot');\n  },\n\n  set slot(value) {\n    this.setAttribute('slot', value);\n  },\n\n  get assignedSlot() {\n    return getAssignedSlot(this);\n  }\n\n}, fragmentMixin, slotMixin);\n\nObject.defineProperties(elementMixin, ShadowRootAccessor);\n\nlet documentMixin = extendAll({\n\n}, fragmentMixin);\n\nObject.defineProperties(documentMixin, {\n  _activeElement: ActiveElementAccessor.activeElement\n});\n\nfunction patchBuiltin(proto, obj) {\n  let n$ = Object.getOwnPropertyNames(obj);\n  for (let i=0; i < n$.length; i++) {\n    let n = n$[i];\n    let d = Object.getOwnPropertyDescriptor(obj, n);\n    // NOTE: we prefer writing directly here because some browsers\n    // have descriptors that are writable but not configurable (e.g.\n    // `appendChild` on older browsers)\n    if (d.value) {\n      proto[n] = d.value;\n    } else {\n      Object.defineProperty(proto, n, d);\n    }\n  }\n}\n\n\n// Apply patches to builtins (e.g. Element.prototype). Some of these patches\n// can be done unconditionally (mostly methods like\n// `Element.prototype.appendChild`) and some can only be done when the browser\n// has proper descriptors on the builtin prototype\n// (e.g. `Element.prototype.firstChild`)`. When descriptors are not available,\n// elements are individually patched when needed (see e.g.\n// `patchInside/OutsideElementAccessors` in `patch-accessors.js`).\nfunction patchBuiltins() {\n  // These patches can always be done, for all supported browsers.\n  patchBuiltin(window.Node.prototype, nodeMixin);\n  patchBuiltin(window.Text.prototype, textMixin);\n  patchBuiltin(window.DocumentFragment.prototype, fragmentMixin);\n  patchBuiltin(window.Element.prototype, elementMixin);\n  patchBuiltin(window.Document.prototype, documentMixin);\n  // patch this only on the instance because (1) main document is only\n  // one we care about; (2) better compatibility with other polyfills\n  // that may also patch the instance (e.g. CE)\n  let previousImportNode = document.importNode;\n  document.importNode = function(node, deep) {\n    return importNode$1(node, deep, previousImportNode);\n  };\n  if (window.HTMLSlotElement) {\n    patchBuiltin(window.HTMLSlotElement.prototype, slotMixin);\n  }\n  // These patches can *only* be done\n  // on browsers that have proper property descriptors on builtin prototypes.\n  // This includes: IE11, Edge, Chrome >= 4?; Safari >= 10, Firefox\n  // On older browsers (Chrome <= 4?, Safari 9), a per element patching\n  // strategy is used for patching accessors.\n  if (settings.hasDescriptors) {\n    patchAccessors(window.Node.prototype);\n    patchAccessors(window.Text.prototype);\n    patchAccessors(window.DocumentFragment.prototype);\n    patchAccessors(window.Element.prototype);\n    let nativeHTMLElement =\n      (window.customElements && customElements.nativeHTMLElement) ||\n      HTMLElement;\n    patchAccessors(nativeHTMLElement.prototype);\n    patchAccessors(window.Document.prototype);\n    if (window.HTMLSlotElement) {\n      patchAccessors(window.HTMLSlotElement.prototype);\n    }\n  }\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Patches elements that interacts with ShadyDOM\n * such that tree traversal and mutation apis act like they would under\n * ShadowDOM.\n *\n * This import enables seemless interaction with ShadyDOM powered\n * custom elements, enabling better interoperation with 3rd party code,\n * libraries, and frameworks that use DOM tree manipulation apis.\n */\n\nif (settings.inUse) {\n\n  window.ShadyDOM = {\n    // TODO(sorvell): remove when Polymer does not depend on this.\n    inUse: settings.inUse,\n    // TODO(sorvell): remove when Polymer does not depend on this.\n    patch: function(node) { return node; },\n    isShadyRoot: isShadyRoot,\n    enqueue: enqueue,\n    flush: flush,\n    settings: settings,\n    filterMutations: filterMutations,\n    observeChildren: observeChildren,\n    unobserveChildren: unobserveChildren,\n    nativeMethods: nativeMethods,\n    nativeTree: nativeTree\n  };\n\n  // Apply patches to events...\n  patchEvents();\n  // Apply patches to builtins (e.g. Element.prototype) where applicable.\n  patchBuiltins();\n\n}\n\n}());\n"]}